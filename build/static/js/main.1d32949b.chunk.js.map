{"version":3,"sources":["contants/common.ts","epics/commonEpic/action.ts","images/logo.png","container/Home/Home.tsx","contants/themeColor.ts","epics/commonEpic/commonEpic.ts","components/Landing/index.tsx","images/loading.gif","components/Header/Header.tsx","components/Header/index.tsx","utils/index.ts","utils/contractUtils.ts","serviceWorker.ts","epics/challengeGroupEpic/action.ts","components/Transaction/Transaction.tsx","container/CreateChallengeGroup/CreateChallengeGroup.tsx","container/Challenge/components/ChallengeCard.tsx","container/Challenge/components/ChallengeInfo.tsx","container/Challenge/components/SponsorButton.tsx","container/Challenge/components/Sponsers.tsx","contracts/contractService.ts","container/Challenge/components/HistoryTimeline.tsx","container/Challenge/components/Notifier.tsx","epics/challengeEpic/action.ts","translation/index.tsx","reducer/challengeReducer.ts","container/Challenge/Challenge.tsx","components/App/App.tsx","reducer/commonReducer.ts","reducer/challengeGroupReducer.ts","reducer/rootReducer.ts","epics/challengeGroupEpic/challengeGroupEpic.ts","epics/challengeEpic/challengeEpic.ts","epics/index.tsx","store/configureStore.tsx","index.tsx"],"names":["__webpack_require__","d","__webpack_exports__","breakPoint","supportLang","hostUrl","APP_COIN","chain","INIT_CONTRACT","SET_CONTRACT","SET_POPUP","CHECK_WALLET","SET_CONFIRM","GET_BALANCE","WITHDRAW_BALANCE","initContract","setContract","setPopup","checkWallet","setConfirm","getBalance","setBalance","withdrawBalance","type","payload","popMessage","messageKey","showPop","balance","module","exports","p","StyledParticle","styled","position","top","left","width","height","Home","process","browser","require","window","particlesJS","load","_this$props","this","props","data","intl","closePopup","_ref","get","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","Fragment","id","_Components_Header__WEBPACK_IMPORTED_MODULE_10__","title","_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_12___default","open","keepMounted","onClose","aria-labelledby","aria-describedby","_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_14___default","style","wordBreak","_material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_15___default","formatMessage","_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_13___default","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_16___default","onClick","color","React","Component","connect","state","dispath","injectIntl","REACT_APP_THEME","REACT_APP_SUB_THEME","REACT_APP_FONT_COLOR","REACT_APP_THEME_BACKGROUND","APP_THEME","APP_SUB_THEME","APP_FONT_COLOR","APP_FONT_COLOR_DARK","APP_LIGHT_BG","concat","checkContract","state$","commonReducer","value","length","action$","pipe","ofType","filter","switchMap","_ref2","Object","_Users_shiacruz_Desktop_projects_dapp_CoinChallengeWeb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_shiacruz_Desktop_projects_dapp_CoinChallengeWeb_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","action","accounts","txWeb3","isDexon","injectProvider","txContract","network","accountBalance","providers","contract","wrap","_context","prev","next","isDexonChain","detectNetwork","sent","web3","dexon","ethereum","Web3","newContract","t0","enable","t1","WebsocketProvider","eth","getAccounts","t2","methods","userBalances","call","t3","abrupt","userAddress","error","t4","stop","_x","apply","arguments","_callee2","_ref4","_context2","_ref5","from","userWithdraw","send","mergeMap","response","of","catchError","err","LangBlk","_Users_shiacruz_Desktop_projects_dapp_CoinChallengeWeb_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__","fontSize","textAlign","margin","marginLeft","textDecoration","Landing","ref","headerRef","scriptRef","createRef","scriptRef2","show","_this2","document","getElementById","visibility","head","getElementsByTagName","link","rel","href","onload","setState","appendChild","LinkDom","remove","current","className","transform","src","version","xmlns","xmlnsXlink","viewBox","clipPathUnits","alt","target","PureComponent","StyledAppBar","AppBar","background","lineHeight","LangIcon","Language","right","MonetizationOnIcon","MonetizationOn","cursor","Balance","defineProperty","display","LangMenu","ButtonAppBar","_this","location","pathname","indexOf","anchorEl","openWithdraw","isWithrawing","onOpenWithdraw","onCloseWithraw","onWithdraw","handeClick","e","currentTarget","handleClose","onSelectLang","lang","history","replace","_this$state","formatBalance","Number","utils","fromWei","toFixed","Boolean","react_default","Link","to","Menu_default","TransitionComponent","Fade","map","item","MenuItem_default","key","Dialog_default","DialogTitle_default","DialogContent_default","DialogContentText_default","DialogActions_default","Button_default","autoFocus","dispatch","withRouter","Header","getMetmaskUrl","formatPercent","isUrlValid","formatNumber","parseLangPath","changeRoute","detect_browser__WEBPACK_IMPORTED_MODULE_0__","decimal_js__WEBPACK_IMPORTED_MODULE_1__","_Src_contants_common__WEBPACK_IMPORTED_MODULE_3__","js_cookie__WEBPACK_IMPORTED_MODULE_4__","js_cookie__WEBPACK_IMPORTED_MODULE_4___default","n","detect","name","b","Decimal","toString","url","match","val","toPrecision","parseLangParams","search","URLSearchParams","lng","Cookies","splitLng","split","toUpperCase","set","networkAddress","contractAddress","web3Interface","address","Contract","CoinChallengs","abi","console","log","parseChallenge","round","_currentRound","targetDays","_targetDays","totalDays","_totalDays","completeDays","_completeDays","startTimestamp","_startTimestamp","sponserSize","_sponsorSize","amount","_amount","totalSponsorAmount","_totalSponsorAmount","goal","_goal","netId","net","getId","CHAIN_ADDRESS","_x2","env","hostname","setCreateResult","Div","Img","Href","bottom","txHash","classNames","Loading","Form","flexWrap","flexDirection","alignItems",".textField","zIndex","&:focus label",".button","backgroundColor","padding","marginTop","&:hover","opacity","Styles","maxWidth","Icon","LabelTxt","WaitingBlk","marginBottom","ErrorTxt","paddingLeft","FormStyle","MenuStyle","maxHeight","SelectStyle","Label","text","defaultGroupState","minDays","maxDays","maxDelayDays","minAmount","hasError","undefined","CreateChallengeGroup","classCallCheck","possibleConstructorReturn","getPrototypeOf","challengeGroup","objectSpread","agent","canSend","onTextChange","checkForm","onDayChange","_this$state2","onDelayDayChange","_this$state3","onAmountChange","field","_this$state4","onUrlChange","_this$state5","onAgentChange","isEmpty","isAddress","onSubmit","newChallengeGroup","errorTxt","params","createResult","status","_this$state6","_this$props2","isConfirming","noValidate","autoComplete","Logo","TextField_default","label","variant","placeholder","onChange","InputLabelProps","LabelProp","required","FormControl_default","fullWidth","InputLabel_default","htmlFor","Select_default","MenuProps","input","OutlinedInput_default","labelWidth","Array","fill","_data","index","coin","Transaction_Transaction","disabled","shrink","StyledTtitleCtr","minHeight","StyledTitle",".goal","ChallengeCard","memo","invalidAddress","LogoImg","StyledFont","fontWeight","StyledUnitFont","StyledContent","CrowdCtr","justifyContent","InfoBlk","Grid","Address","Amount","StyledInfoCtr","withConfig","displayName","componentId","bgcolor","withStyles","_theme","lightTooltip","FabCtr",".sponsor-btn","minWidth","SponsorButton","amountRef","commentRef","amountError","commentError","onConfirm","comment","trim","onSponsor","handleOpen","textTransform","inputRef","SponserCtr","BarCtr","paddingRight","CoinTxt","Comment","SponsorTitle","_mediaMaxWidth$","flex","Sponsers","sponsors","sponsor","idx","Sponsers_Address","who","canSponsor","asyncToGenerator","regenerator_default","groupId","res","_x3","_x4","newChallengesEvents","_callee3","_ref3","callback","_context3","events","NewChallenge","_error","event","_event$returnValues","returnValues","challenger","proposer","_x5","getPastChallenges","_ref6","_callee4","finishChallenges","i","_context4","getAllPastEvents","fromBlock","push","_x6","_ref8","_callee6","options","_args6","_context6","getPastEvents","_x8","getPastSponsor","_ref9","_callee7","sponsers","_args7","_context7","_who","getSponsor","_comment","_x9","_x10","_x11","_x12","sponsorEvents","_ref11","_callee8","_ref10","_context8","SponsorChallenge","on","_event$returnValues2","_x13","STATUS","STATUS_COLOR","Title","paddingBottom","borderBottom","TimelineCtr","HistoryCtr","ResultText","HistoryTimeline","fetched","challenges","pastChallengs","challenge","moment","format","HistoryTimeline_Amount","StyledTxt","Notifier","queue","registered","messageInfo","Math","random","message","processQueue","shift","handleExited","insertEvent","classes","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","onExited","ContentProps","IconButton_default","aria-label","Close_default","GET_CAHLLENGE","setConfirmSponsor","addLocaleData","toConsumableArray","localeEn","localeZh","WrappedComponent","initState","messgaes","en","messageEN_US","zh-TW","messageZH_TW","zh-CN","messageZH_CN","currentLang","ChallengeContainer","overflow","StyledGridList","LoadingBlk","Challenge","sponsorFetched","onNewSponsor","sponsorAmount","_this$props3","_txContract","_account","sponserChallenge","account","fetchChallenge","isValid","branch","deepview","channel","feature","$uri_redirect_mode","$deeplink_path","user_cookie_id","blockchain","open_app","sponsorData","reduce","accumulator","checkAndFetch","_this$props5","_this$props6","isCofirmingSponsor","txhash","groupName","groupImage","locale","goalText","defaultMessage","shareDesc","Helmet","property","content","components_ChallengeCard","components_ChallengeInfo","components_SponsorButton","components_Sponsers","components_HistoryTimeline","components_Notifier","challengeState","commonState","toJS","theme","createMuiTheme","palette","primary","main","light","dark","typography","useNextVariants","Body","fontFamily","MainContainer","paddingTop","App","jssStyles","styles","Switch","Route","path","exact","component","Redirect","withTheme","_React$Component","MutilLang","inherits","createClass","listen","nextLang","index_es","messages","initialState","Record","loading","stateMaker","_ref$accounts","merge","challengeGroupReducer","__PRELOADED_STATE__","challengeReducer","rootReducer","combineReducers","common","challengeGroupEpic","take","_contract$methods","toWei","createChallengeGroup","values","_err","hash","gasUsed","parseErrorMsg","repeat","challengeEpic","getChallengeGroup","_name","_url","_minAmount","method","isNaN","sponsorChallenge","String","combineEpics","commonEpics","challengeGroupEpics","challengeEpics","epicMiddleware","createEpicMiddleware","middlewares","store","createStore","applyMiddleware","run","rootEpic","ReactDOM","hydrate","es","BrowserRouter","components_App_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1d32949b.chunk.js","sourcesContent":["import { ChainType } from '@Src/typing/globalTypes'\n\nexport const breakPoint = '800px'\nexport const supportLang = ['en', 'zh-TW', 'zh-CN']\nexport const hostUrl = () => {\n  if (process.env.NODE_ENV === 'production') {\n    return 'https://coinchallenges.app/'\n  }\n  return 'https://coin-challenges.herokuapp.com/'\n}\n\nexport const APP_COIN = (chain?: ChainType) =>\n  chain && chain === 'dexon' ? 'DXN' : 'ETH'\n","import Contract from 'web3/eth/contract'\n\nexport const INIT_CONTRACT = '@COMMON/INIT_CONTRACT'\nexport const SET_CONTRACT = '@COMMON/SET_CONTRACT'\n\nexport const SET_POPUP = '@COMMON/SET_POPUP'\nexport const CHECK_WALLET = '@COMMON/CHECK_WALLET'\n\nexport const SET_CONFIRM = '@COMMON/SET_CONFIRM'\n\nexport const GET_BALANCE = '@COMMON/GET_BALANCE'\nexport const SET_BALANCE = '@COMMON/SET_BALANCE'\n\nexport const WITHDRAW_BALANCE = '@COMMON/WITHDRAW_BALANCE'\nexport const SET_WITHRAW_RESULT = '@COMMON/SET_WITHRAW_RESULT'\n\nexport const initContract = (chain?: string) => ({\n  type: INIT_CONTRACT,\n  payload: { chain }\n})\n\nexport const setContract = (payload: {\n  txContract: Contract | null\n  contract: Contract | null\n  userAddress: string | null\n  accounts?: Array<string>\n  accountBalance: string\n  error: object | null\n}) => ({\n  type: SET_CONTRACT,\n  payload\n})\n\nexport interface SetPopProps {\n  popMessage?: string\n  messageKey?: string\n  showPop: boolean\n}\n\nexport const setPopup = (payload: SetPopProps) => ({\n  type: SET_POPUP,\n  payload: {\n    popMessage: payload.popMessage || '',\n    messageKey: payload.messageKey || null,\n    showPop: payload.showPop\n  }\n})\n\nexport const checkWallet = (chain?: string) => ({\n  type: CHECK_WALLET,\n  payload: chain\n})\n\nexport interface SetConfirmProp {\n  isConfirming: boolean\n  txHash?: string\n}\n\nexport const setConfirm = (payload: SetConfirmProp) => ({\n  type: SET_CONFIRM,\n  payload\n})\n\nexport const getBalance = () => ({\n  type: GET_BALANCE\n})\n\nexport const setBalance = (balance: string) => ({\n  type: SET_BALANCE,\n  payload: {\n    balance\n  }\n})\n\nexport const withdrawBalance = () => ({\n  type: WITHDRAW_BALANCE\n})\n","module.exports = __webpack_public_path__ + \"static/media/logo.c5a6da61.png\";","import React from 'react'\nimport { CommonStateType } from '@Reducers/commonReducer'\nimport { Map } from 'immutable'\nimport { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport { initContract, setPopup } from '@Epics/commonEpic/action'\nimport Header from '@Components/Header'\nimport styled from 'styled-components'\n\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport Button from '@material-ui/core/Button'\nimport { injectIntl, InjectedIntlProps } from 'react-intl'\n\nconst StyledParticle = styled('div')<{ [key: string]: any }>({\n  position: 'fixed',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: '100%'\n})\n\nconst mapStateToProps = (state: Map<string, object>) => {\n  return {\n    data: state.get('common') as CommonStateType\n  }\n}\n\nconst mapDispatchToProps = (dispath: Dispatch) => ({\n  initContract: () => dispath(initContract()),\n  closePopup: () => dispath(setPopup({ showPop: false }))\n})\n\ninterface Props {\n  data: CommonStateType\n  initContract: () => void\n  closePopup: () => void\n}\n\nclass Home extends React.Component<Props & InjectedIntlProps> {\n  public async componentDidMount() {\n    if (process.browser) {\n      require('particles.js')\n      window.particlesJS.load('particle-body', '/particlesjs-config.json')\n    }\n  }\n\n  render() {\n    const { data, intl, closePopup } = this.props\n    const [popMessage, messageKey] = [\n      data.get('popMessage'),\n      data.get('messageKey')\n    ]\n\n    return (\n      <React.Fragment>\n        <StyledParticle id='particle-body' />\n        <Header title='CoinChallenges' />\n        <Dialog\n          open={data.get('showPop')}\n          keepMounted\n          onClose={closePopup}\n          aria-labelledby='alert-dialog-slide-title'\n          aria-describedby='alert-dialog-slide-description'\n        >\n          <DialogContent style={{ wordBreak: 'break-all' }}>\n            <DialogContentText id='alert-dialog-slide-description'>\n              {messageKey ? intl.formatMessage({ id: messageKey }) : popMessage}\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={closePopup} color='primary'>\n              {intl.formatMessage({ id: 'ok' })}\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(injectIntl(Home))\n","const {\n  REACT_APP_THEME,\n  REACT_APP_SUB_THEME,\n  REACT_APP_FONT_COLOR,\n  REACT_APP_THEME_BACKGROUND\n} = process.env\nexport const APP_THEME = REACT_APP_THEME || '#ff5864'\nexport const APP_SUB_THEME = REACT_APP_SUB_THEME || '#ff99a0'\nexport const APP_FONT_COLOR = REACT_APP_FONT_COLOR || '#fffafa'\nexport const APP_FONT_COLOR_DARK = '#101010'\nexport const APP_LIGHT_BG = 'rgb(255,250,250)' //'#fffafa'\nexport const APP_THEME_BACKGROUND =\n  REACT_APP_THEME_BACKGROUND ||\n  `linear-gradient(45deg, ${APP_THEME} 30%, ${APP_SUB_THEME} 90%)`\n\nexport const COLOR_BAR = [\n  '#ff6776',\n  'rgba(0, 118, 216, 0.6)',\n  'rgba(0, 163, 56, 0.6)'\n]\n","import { Action } from '@Src/typing/globalTypes'\nimport {\n  INIT_CONTRACT,\n  setContract,\n  setPopup,\n  GET_BALANCE,\n  getBalance,\n  setBalance,\n  WITHDRAW_BALANCE\n} from './action'\nimport { ofType, ActionsObservable, StateObservable } from 'redux-observable'\nimport { switchMap, filter, mergeMap, catchError } from 'rxjs/operators'\nimport { from, of } from 'rxjs'\nimport Web3 from 'web3'\nimport { newContract, detectNetwork } from '@Utils/contractUtils'\nimport { isDexon as isDexonChain } from '@Src/utils'\n\n// async function transfer(account: string | null) {\n//   if (\n//     !account ||\n//     typeof location === 'undefined' ||\n//     location.href.indexOf('localhost') == -1\n//   ) {\n//     return\n//   }\n//   await web3.eth.sendTransaction({\n//     from: '0x1ce421937a6f59bf58faafe316d23aaed690da18',\n//     to: account,\n//     value: 2000000000000000000\n//   })\n//   console.log(`transfer 2 eth to ${account} success!`)\n// }\n\nconst checkContract = (state$: any) => {\n  const commonReducer = state$.value.get('common')\n  const [txContract, accounts] = [\n    commonReducer.get('txContract'),\n    commonReducer.get('accounts')\n  ]\n  return txContract !== null && accounts.length > 0\n}\n\nexport const initContractEpic = (\n  action$: ActionsObservable<Action>,\n  state$: StateObservable<any>\n) =>\n  action$.pipe(\n    ofType(INIT_CONTRACT),\n    filter(() => state$.value.get('common').get('txContract') === null),\n    switchMap(async (action: Action) => {\n      let accounts: string[] = []\n      let txWeb3: Web3 | null = null\n\n      const chain = action.payload ? action.payload.chain : 'ethereum'\n      const isDexon = isDexonChain(chain)\n\n      try {\n        let injectProvider\n        let txContract = null\n        let network = await detectNetwork(null, chain)\n        let txNetwork = network\n        let accountBalance = '0'\n\n        if (\n          (typeof web3 === 'undefined' || !process.browser) &&\n          !window.dexon\n        ) {\n          window.web3 = {}\n        } else if ((!isDexon && window.ethereum) || (isDexon && window.dexon)) {\n          window.web3 = window.web3 || {}\n          txWeb3 = new Web3(isDexon ? window.dexon : window.ethereum)\n          txNetwork = await detectNetwork(txWeb3, chain)\n          txContract = newContract(txWeb3)\n          window.contract = txContract\n          !isDexon && window.ethereum && (await window.ethereum.enable())\n          isDexon && window.dexon && (await window.dexon.enable())\n        }\n\n        const providers = new Web3().providers\n        injectProvider = new providers.WebsocketProvider(network)\n        web3 = new Web3(injectProvider)\n\n        try {\n          accounts = txWeb3\n            ? await txWeb3.eth.getAccounts()\n            : await web3.eth.getAccounts()\n          if (txContract) {\n            accountBalance = await txContract.methods\n              .userBalances(accounts[0])\n              .call()\n          }\n        } catch (error) {}\n\n        const contract = newContract(web3)\n\n        return setContract({\n          txContract,\n          contract,\n          userAddress: accounts.length ? accounts[0] : null,\n          accounts,\n          accountBalance,\n          error: null\n        })\n      } catch (e) {\n        return setPopup({\n          showPop: true,\n          messageKey: `${isDexon ? 'dexonP' : 'p'}roviderNotFound`\n        })\n      }\n    })\n  )\n\nexport const getBalanceEpic = (\n  action$: ActionsObservable<Action>,\n  state$: StateObservable<any>\n) =>\n  action$.pipe(\n    ofType(GET_BALANCE),\n    filter(() => checkContract(state$)),\n    switchMap(async () => {\n      const commonReducer = state$.value.get('common')\n      const [txContract, accounts] = [\n        commonReducer.get('txContract'),\n        commonReducer.get('accounts')\n      ]\n\n      try {\n        let accountBalance = '0'\n        if (txContract && accounts.length) {\n          accountBalance = await txContract.methods\n            .userBalances(accounts[0])\n            .call()\n        }\n\n        return setBalance(accountBalance)\n      } catch (err) {\n        return setPopup({\n          showPop: true,\n          popMessage: 'get balance error'\n        })\n      }\n    })\n  )\n\nexport const withdrawEpic = (\n  action$: ActionsObservable<Action>,\n  state$: StateObservable<any>\n) =>\n  action$.pipe(\n    ofType(WITHDRAW_BALANCE),\n    filter(() => checkContract(state$)),\n    switchMap(() => {\n      const commonReducer = state$.value.get('common')\n      const [txContract, accounts] = [\n        commonReducer.get('txContract'),\n        commonReducer.get('accounts')\n      ]\n\n      return from(\n        txContract.methods.userWithdraw().send({\n          from: accounts[0]\n        })\n      ).pipe(\n        mergeMap((response: any) => {\n          return of(\n            setPopup({\n              showPop: true,\n              popMessage: 'Tx hash : ' + response.data\n            }),\n            getBalance()\n          )\n        }),\n        catchError((err: Error) => {\n          return of(\n            setPopup({\n              showPop: true,\n              messageKey: 'withdraw.error'\n            })\n          )\n        })\n      )\n    })\n  )\n\nexport default [initContractEpic, getBalanceEpic, withdrawEpic]\n","import { InjectedIntlProps, injectIntl } from 'react-intl'\n\nimport React from 'react'\nimport { breakPoint } from '@Src/contants/common'\nimport styled from 'styled-components'\n\nconst StyleId = 'landing-link'\n\nconst LangBlk = styled('div')({\n  fontSize: '16px',\n  textAlign: 'center',\n  margin: '-40px 0 20px',\n  a: {\n    marginLeft: '8px',\n    textDecoration: 'underline'\n  },\n  [`@media (max-width: ${breakPoint})`]: {\n    fontSize: '12px'\n  }\n})\n\nclass Landing extends React.PureComponent<InjectedIntlProps> {\n  private ref: HTMLElement | null = null\n  private headerRef: HTMLElement | null = null\n\n  private scriptRef: React.RefObject<HTMLScriptElement> = React.createRef()\n  private scriptRef2: React.RefObject<HTMLScriptElement> = React.createRef()\n\n  public state = {\n    show: false\n  }\n\n  public componentDidMount() {\n    if (process.browser) {\n      this.headerRef = document.getElementById('project-header')\n      this.ref = document.getElementById('particle-body')\n      if (this.ref && this.headerRef) {\n        this.ref.style.visibility = 'hidden'\n        this.headerRef.style.visibility = 'hidden'\n      }\n\n      let head = document.getElementsByTagName('head')[0]\n      let link = document.createElement('link')\n\n      link.type = 'text/css'\n      link.rel = 'stylesheet'\n      link.href = '/landing/styles/layout.css'\n      link.id = StyleId\n\n      // MAGIC\n      link.onload = () => {\n        this.setState({\n          show: true\n        })\n      }\n      head.appendChild(link)\n    }\n  }\n\n  public componentWillUnmount() {\n    if (process.browser) {\n      const LinkDom = document.getElementById(StyleId)\n      LinkDom && LinkDom.remove()\n    }\n\n    if (this.ref && this.headerRef) {\n      this.ref.style.visibility = 'visible'\n      this.headerRef.style.visibility = 'visible'\n    }\n\n    if (this.scriptRef.current && this.scriptRef2.current) {\n      this.scriptRef.current.remove()\n      this.scriptRef2.current.remove()\n    }\n  }\n\n  public render() {\n    const { intl } = this.props\n    return (\n      <div className='imageWrapper'>\n        <div className='headerBackground'>\n          <div className='container'>\n            <header>\n              <div className='logo'>\n                <div className='appIconShadow'>\n                  <svg width={0} height={0}>\n                    <defs>\n                      <clipPath id='shape'>\n                        <path\n                          id='shape'\n                          className='cls-1'\n                          d='M6181.23,233.709v-1.792c0-.5-0.02-1-0.02-1.523a24.257,24.257,0,0,0-.28-3.3,11.207,11.207,0,0,0-1.04-3.132,10.683,10.683,0,0,0-1.95-2.679,10.384,10.384,0,0,0-2.68-1.943,10.806,10.806,0,0,0-3.13-1.038,19.588,19.588,0,0,0-3.3-.285c-0.5-.017-1-0.017-1.52-0.017h-22.39c-0.51,0-1.01.017-1.53,0.017a24.041,24.041,0,0,0-3.3.285,11.009,11.009,0,0,0-3.13,1.038,10.491,10.491,0,0,0-4.62,4.622,10.893,10.893,0,0,0-1.04,3.132,19.2,19.2,0,0,0-.28,3.3c-0.02.5-.02,1-0.02,1.523v22.392c0,0.5.02,1,.02,1.524a24.257,24.257,0,0,0,.28,3.3,10.9,10.9,0,0,0,1.04,3.132,10.491,10.491,0,0,0,4.62,4.622,11.04,11.04,0,0,0,3.13,1.038,19.891,19.891,0,0,0,3.3.285c0.51,0.017,1.01.017,1.53,0.017h22.39c0.5,0,1-.017,1.52-0.017a24.221,24.221,0,0,0,3.3-.285,10.836,10.836,0,0,0,3.13-1.038,10.408,10.408,0,0,0,2.68-1.943,10.683,10.683,0,0,0,1.95-2.679,11.217,11.217,0,0,0,1.04-3.132,20.257,20.257,0,0,0,.28-3.3c0.02-.5.02-1,0.02-1.524v-20.6h0Z'\n                          transform='translate(-6131 -218)'\n                        />\n                      </clipPath>\n                    </defs>\n                  </svg>\n                  <img className='headerIcon' src='landing/assets/logo.png' />\n                </div>\n                <p className='headerName'>CoinChallenges</p>\n              </div>\n              <nav>\n                <ul />\n              </nav>\n            </header>\n            <div className='iphonePreview'>\n              <svg\n                version='1.1'\n                xmlns='http://www.w3.org/2000/svg'\n                xmlnsXlink='http://www.w3.org/1999/xlink'\n                viewBox='0 0 0 0'\n                style={{ position: 'absolute' }}\n              >\n                <clipPath\n                  id='screenMask'\n                  clipPathUnits='objectBoundingBox'\n                  transform='scale(0.00257, 0.00119)'\n                >\n                  <path\n                    d='M6490.24,1234.36H6216.28c-2.57,0-10.55-.07-12.07-0.07a87.524,87.524,0,0,1-12-1.03,40.051,40.051,0,0,1-11.4-3.79,38.315,38.315,0,0,1-16.82-16.84,39.948,39.948,0,0,1-3.78-11.42,72.257,72.257,0,0,1-1.04-12.02c-0.06-1.83-.06-5.56-0.06-5.56V452.125h0s0.06-11.391.06-12.086a87.9,87.9,0,0,1,1.04-12.025,39.843,39.843,0,0,1,3.78-11.413,38.283,38.283,0,0,1,16.82-16.847,39.762,39.762,0,0,1,11.4-3.785,71.909,71.909,0,0,1,12-1.037c16.99-.567,36.32-0.061,34.51-0.061,5.02,0,6.5,3.439,6.63,6.962a35.611,35.611,0,0,0,1.2,8.156,21.326,21.326,0,0,0,19.18,15.592c2.28,0.192,6.78.355,6.78,0.355H6433.7s4.5-.059,6.79-0.251a21.348,21.348,0,0,0,19.18-15.591,35.582,35.582,0,0,0,1.19-8.154c0.13-3.523,1.61-6.962,6.64-6.962-1.81,0,17.52-.5,34.5.061a71.923,71.923,0,0,1,12.01,1.038,39.832,39.832,0,0,1,11.4,3.784,38.283,38.283,0,0,1,16.82,16.844,40.153,40.153,0,0,1,3.78,11.413,87.844,87.844,0,0,1,1.03,12.023c0,0.695.06,12.084,0.06,12.084h0V1183.64s0,3.72-.06,5.55a72.366,72.366,0,0,1-1.03,12.03,40.2,40.2,0,0,1-3.78,11.41,38.315,38.315,0,0,1-16.82,16.84,40.155,40.155,0,0,1-11.4,3.79,87.669,87.669,0,0,1-12.01,1.03c-1.52,0-9.5.07-12.07,0.07'\n                    transform='translate(-6159.12 -394.656)'\n                  />\n                </clipPath>\n              </svg>\n\n              <img\n                className='iphoneScreen'\n                src='landing/assets/screenshot/1.png'\n                alt=''\n              />\n            </div>\n            <div className='appInfo'>\n              <div className='appIconShadow'>\n                <svg width={0} height={0}>\n                  <defs>\n                    <clipPath id='shape120'>\n                      <path\n                        id='shape'\n                        className='cls-1'\n                        d='M6821,495.533v-4.281c0-1.2-.04-2.4-0.04-3.642a57.7,57.7,0,0,0-.68-7.882,26.144,26.144,0,0,0-2.48-7.483,25.115,25.115,0,0,0-11.04-11.044,26.118,26.118,0,0,0-7.49-2.481,47.28,47.28,0,0,0-7.88-.68c-1.2-.04-2.4-0.04-3.64-0.04h-53.5c-1.2,0-2.4.04-3.64,0.04a57.813,57.813,0,0,0-7.88.68,26.323,26.323,0,0,0-7.49,2.481,25.115,25.115,0,0,0-11.04,11.044,26.144,26.144,0,0,0-2.48,7.483,47.313,47.313,0,0,0-.68,7.882c-0.04,1.2-.04,2.4-0.04,3.642v53.5c0,1.2.04,2.4,0.04,3.641a57.7,57.7,0,0,0,.68,7.883,26.137,26.137,0,0,0,2.48,7.482,25.115,25.115,0,0,0,11.04,11.044,26.261,26.261,0,0,0,7.49,2.481,47.28,47.28,0,0,0,7.88.68c1.2,0.04,2.4.04,3.64,0.04h53.5c1.2,0,2.4-.04,3.64-0.04a57.654,57.654,0,0,0,7.88-.68,26.057,26.057,0,0,0,7.49-2.481,25.115,25.115,0,0,0,11.04-11.044,26.137,26.137,0,0,0,2.48-7.482,47.316,47.316,0,0,0,.68-7.883c0.04-1.2.04-2.4,0.04-3.641V495.533h0Z'\n                        transform='translate(-6701 -458)'\n                        filter='url(#f1)'\n                      />\n                    </clipPath>\n                  </defs>\n                </svg>\n                <img className='appIconLarge' src='landing/assets/logo.png' />\n              </div>\n              <div className='appNamePriceContainer'>\n                <h1 className='appName'>CoinChallenges</h1>\n                <h2 className='appPrice'>$Free</h2>\n              </div>\n              <div className='appDescriptionContainer'>\n                <p className='appDescription'>\n                  {intl.formatMessage({ id: 'landing.desc' })}\n                </p>\n              </div>\n              <div className='downloadButtonsContainer'>\n                <a\n                  className='appStoreLink'\n                  href='https://itunes.apple.com/app/coinchallenges/id1452171308'\n                  target='_blank'\n                >\n                  <img\n                    className='appStore'\n                    src='/landing/assets/appstore.png'\n                  />\n                </a>\n              </div>\n            </div>\n            <div className='features'>\n              <div className='feature'>\n                <div>\n                  <span className='fa-stack fa-1x'>\n                    <i className='iconBack fas fa-circle fa-stack-2x' />\n                    <i className='iconTop fas fa-dumbbell fa-stack-1x' />\n                  </span>\n                </div>\n                <div className='featureText'>\n                  <h3>\n                    {intl.formatMessage({ id: 'landing.desc.item.1.title' })}\n                  </h3>\n                  <p>\n                    {intl.formatMessage({ id: 'landing.desc.item.1.desc' })}\n                  </p>\n                </div>\n              </div>\n              <div className='feature'>\n                <div>\n                  <span className='fa-stack fa-1x'>\n                    <i className='iconBack fas fa-circle fa-stack-2x' />\n                    <i className='iconTop fab fa-bitcoin fa-stack-1x' />\n                  </span>\n                </div>\n                <div className='featureText'>\n                  <h3>\n                    {intl.formatMessage({ id: 'landing.desc.item.2.title' })}\n                  </h3>\n                  <p>\n                    {intl.formatMessage({ id: 'landing.desc.item.2.desc' })}\n                  </p>\n                </div>\n              </div>\n              <div className='feature'>\n                <div>\n                  <span className='fa-stack fa-1x'>\n                    <i className='iconBack fas fa-circle fa-stack-2x' />\n                    <i className='iconTop far fa-gem fa-stack-1x' />\n                  </span>\n                </div>\n                <div className='featureText'>\n                  <h3>\n                    {intl.formatMessage({ id: 'landing.desc.item.3.title' })}\n                  </h3>\n                  <p>\n                    {intl.formatMessage({ id: 'landing.desc.item.3.desc' })}\n                  </p>\n                </div>\n              </div>\n              <div className='feature'>\n                <div>\n                  <span className='fa-stack fa-1x'>\n                    <i className='iconBack fas fa-circle fa-stack-2x' />\n                    <i className='iconTop fas fa-reply fa-stack-1x' />\n                  </span>\n                </div>\n                <div className='featureText'>\n                  <h3>\n                    {intl.formatMessage({ id: 'landing.desc.item.4.title' })}\n                  </h3>\n                  <p>\n                    {intl.formatMessage({ id: 'landing.desc.item.4.desc' })}\n                  </p>\n                </div>\n              </div>\n              <div className='feature'>\n                <div>\n                  <span className='fa-stack fa-1x'>\n                    <i className='iconBack fas fa-circle fa-stack-2x' />\n                    <i className='iconTop fas fa-child fa-stack-1x' />\n                  </span>\n                </div>\n                <div className='featureText'>\n                  <h3>\n                    {intl.formatMessage({ id: 'landing.desc.item.5.title' })}\n                  </h3>\n                  <p>\n                    {intl.formatMessage({ id: 'landing.desc.item.5.desc' })}\n                  </p>\n                </div>\n              </div>\n              <div className='feature'>\n                <div>\n                  <span className='fa-stack fa-1x'>\n                    <i className='iconBack fas fa-circle fa-stack-2x' />\n                    <i className='iconTop fas fa-check-circle fa-stack-1x' />\n                  </span>\n                </div>\n                <div className='featureText'>\n                  <h3>\n                    {intl.formatMessage({ id: 'landing.desc.item.6.title' })}\n                  </h3>\n                  <p>\n                    {intl.formatMessage({ id: 'landing.desc.item.6.desc' })}\n                  </p>\n                </div>\n              </div>\n            </div>\n            <footer>\n              <div className='footerIcons'>\n                <a href='https://twitter.com/coin_challenges'>\n                  <span className='fa-stack fa-1x'>\n                    <i className='socialIconBack fas fa-circle fa-stack-2x' />\n                    <i className='socialIconTop fab fa-twitter fa-stack-1x' />\n                  </span>\n                </a>\n                <a href='https://t.me/CoinChallenges'>\n                  <span className='fa-stack fa-1x'>\n                    <i className='socialIconBack fas fa-circle fa-stack-2x' />\n                    <i className='socialIconTop fab fa-telegram fa-stack-1x' />\n                  </span>\n                </a>\n                <a href='https://line.me/R/ti/p/%40xny8263g'>\n                  <span className='fa-stack fa-1x'>\n                    <i className='socialIconBack fas fa-circle fa-stack-2x' />\n                    <i className='socialIconTop fab fa-line fa-stack-1x' />\n                  </span>\n                </a>\n                <a href='mailto:hello@coinchallenges.app'>\n                  <span className='fa-stack fa-1x'>\n                    <i className='socialIconBack fas fa-circle fa-stack-2x' />\n                    <i className='socialIconTop fas fa-envelope fa-stack-1x' />\n                  </span>\n                </a>\n              </div>\n              <LangBlk>\n                <a href='/?l=en'>En</a>\n                <a href='/?l=zh-TW'>繁體中文</a>\n                <a href='/?l=zh-CN'>简体中文</a>\n              </LangBlk>\n            </footer>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default injectIntl(Landing)\n","module.exports = __webpack_public_path__ + \"static/media/loading.a4f2cb80.gif\";","import React, { ComponentType, PureComponent } from 'react'\nimport { Link, withRouter, RouteComponentProps } from 'react-router-dom'\nimport AppBar, { AppBarProps } from '@material-ui/core/AppBar'\nimport { APP_THEME, APP_FONT_COLOR } from '@Src/contants/themeColor'\nimport styled from 'styled-components'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Fade from '@material-ui/core/Fade'\nimport Language from '@material-ui/icons/Language'\nimport MonetizationOn from '@material-ui/icons/MonetizationOn'\nimport { SvgIconProps } from '@material-ui/core/SvgIcon'\nimport { supportLang } from '@Src/contants/common'\nimport { connect } from 'react-redux'\nimport { CommonStateType } from '@Reducers/commonReducer'\nimport { breakPoint } from '@Src/contants/common'\n\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Button from '@material-ui/core/Button'\nimport { injectIntl, InjectedIntlProps } from 'react-intl'\nimport { Dispatch } from 'redux'\nimport { withdrawBalance } from '@Epics/commonEpic/action'\nimport Web3 from 'web3'\nimport { APP_COIN } from '@Src/contants/common'\nimport { ChainType } from '@Src/typing/globalTypes'\n\nconst StyledAppBar = styled(AppBar)({\n  width: '100vw',\n  position: 'fixed',\n  left: 0,\n  top: 0,\n  background: APP_THEME,\n  textAlign: 'center',\n  lineHeight: '50px',\n  color: APP_FONT_COLOR,\n  a: {\n    color: APP_FONT_COLOR,\n    textDecoration: 'none'\n  }\n}) as ComponentType<AppBarProps>\n\nconst LangIcon = styled(Language)({\n  position: 'absolute',\n  top: 15,\n  right: 10\n}) as ComponentType<SvgIconProps>\n\nconst MonetizationOnIcon = styled(MonetizationOn)({\n  position: 'absolute',\n  top: 15,\n  right: 42,\n  cursor: 'pointer'\n}) as ComponentType<SvgIconProps>\n\nconst Balance = styled('div')({\n  position: 'absolute',\n  top: 2,\n  right: 70,\n  color: '#fff',\n  fontSize: '14px',\n  [`@media (max-width: ${breakPoint})`]: {\n    display: 'none'\n  }\n})\n\ninterface BarProp extends RouteComponentProps, InjectedIntlProps {\n  title: string\n  balance: string\n  withdrawBalance: () => void\n}\n\ninterface BarState {\n  anchorEl: null | EventTarget\n  openWithdraw: boolean\n  isWithrawing: boolean\n}\n\nconst LangMenu = [\n  {\n    value: supportLang[0],\n    title: 'English'\n  },\n  {\n    value: supportLang[1],\n    title: '繁體中文'\n  },\n  {\n    value: supportLang[2],\n    title: '简体中文'\n  }\n]\n\nclass ButtonAppBar extends PureComponent<BarProp, BarState> {\n  public chain: ChainType =\n    this.props.location.pathname.indexOf('dexon') > -1 ? 'dexon' : 'ethereum'\n  public state = {\n    anchorEl: null,\n    openWithdraw: false,\n    isWithrawing: false\n  }\n\n  private onOpenWithdraw = () => {\n    this.setState({\n      openWithdraw: true\n    })\n  }\n\n  private onCloseWithraw = () => {\n    this.setState({\n      openWithdraw: false\n    })\n  }\n\n  private onWithdraw = () => {\n    this.props.withdrawBalance()\n    this.setState({\n      openWithdraw: false,\n      isWithrawing: true\n    })\n  }\n\n  private handeClick = (e: React.MouseEvent) => {\n    this.setState({\n      anchorEl: e.currentTarget\n    })\n  }\n\n  private handleClose = () => {\n    this.setState({ anchorEl: null })\n  }\n\n  private onSelectLang = (lang: string) => () => {\n    const { history } = this.props\n\n    history.replace(`${history.location.pathname}?l=${lang}`)\n    this.handleClose()\n  }\n\n  public render() {\n    const { anchorEl, isWithrawing } = this.state\n    const { balance, intl } = this.props\n\n    const formatBalance = Number(Number(Web3.utils.fromWei(balance)).toFixed(8))\n\n    const open = Boolean(anchorEl)\n    return (\n      <StyledAppBar id='project-header'>\n        <h1>\n          <Link to='/'>{this.props.title}</Link>\n          {Number(balance) > 0 && !isWithrawing ? (\n            <React.Fragment>\n              <Balance>\n                {formatBalance} {APP_COIN(this.chain)}\n              </Balance>\n              <MonetizationOnIcon onClick={this.onOpenWithdraw} />\n            </React.Fragment>\n          ) : null}\n\n          <LangIcon onClick={this.handeClick} />\n        </h1>\n        <div style={{ position: 'relative' }}>\n          <Menu\n            id='fade-menu'\n            anchorEl={anchorEl}\n            open={open}\n            onClose={this.handleClose}\n            TransitionComponent={Fade}\n          >\n            {LangMenu.map(item => (\n              <MenuItem\n                key={item.value}\n                onClick={this.onSelectLang(item.value)}\n              >\n                {item.title}\n              </MenuItem>\n            ))}\n          </Menu>\n        </div>\n        <Dialog\n          open={this.state.openWithdraw}\n          onClose={this.onCloseWithraw}\n          aria-labelledby='alert-dialog-title'\n          aria-describedby='alert-dialog-description'\n        >\n          <DialogTitle id='alert-dialog-title'>\n            {intl.formatMessage({ id: 'withdraw' })}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText id='alert-dialog-description'>\n              {intl.formatMessage(\n                { id: 'withdraw.confirm.desc' },\n                {\n                  balance: `${formatBalance} ${APP_COIN(this.chain)}`\n                }\n              )}\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.onCloseWithraw} color='primary'>\n              {intl.formatMessage({ id: 'cancel' })}\n            </Button>\n            <Button onClick={this.onWithdraw} color='primary' autoFocus>\n              {intl.formatMessage({ id: 'confirm' })}\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </StyledAppBar>\n    )\n  }\n}\n\nconst mapStateToProps = (state: Map<string, object>) => {\n  const commonState = state.get('common') as CommonStateType\n  return {\n    balance: commonState.get('accountBalance')\n  }\n}\n\nconst mapDispathToProps = (dispatch: Dispatch) => ({\n  withdrawBalance: () => dispatch(withdrawBalance())\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispathToProps\n)(withRouter(injectIntl(ButtonAppBar)))\n","export { default } from './Header'\n","import { detect } from 'detect-browser'\nimport { Decimal } from 'decimal.js'\nimport { matchPath } from 'react-router-dom'\nimport { supportLang } from '@Src/contants/common'\nimport Cookies from 'js-cookie'\nimport { RouteComponentProps } from 'react-router'\n\nconst browser = detect()\n\nexport const getMetmaskUrl = () => {\n  switch (browser && browser.name) {\n    case 'chrome':\n      return 'https://chrome.google.com/webstore/detail/nkbihfbeogaeaoehlefnkodbefgpgknn'\n    case 'firefox':\n      return 'https://addons.mozilla.org/en-US/firefox/addon/ether-metamask/'\n    case 'opera':\n      return 'https://addons.opera.com/en/extensions/details/metamask/'\n    default:\n      return null\n  }\n}\n\nexport const formatPercent = (a: number, b: number) => {\n  if (b === 0 || a === 0) {\n    return '0%'\n  }\n  return Number(new Decimal((a * 100) / b).toFixed(2).toString()) + '%'\n}\n\nexport const isUrlValid = (url: string) => {\n  return url.match(\n    /https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/\n  )\n}\n\nexport const formatNumber = (val: number) => {\n  val = val || 0\n  return new Decimal(val).toPrecision(5)\n}\n\ninterface MatchParam {\n  params: {\n    lng: string\n  }\n}\n\nexport const matchPathFunc = (pathname: string) =>\n  matchPath(pathname, {\n    path: '/:lng/**/',\n    strict: false\n  }) as MatchParam\n\nexport const parseLangParams = (search: string) => {\n  const urlParams = new URLSearchParams(search)\n  return urlParams.get('l') || ''\n}\n\nexport const parseLangPath = (search: string): string => {\n  let lng = parseLangParams(search)\n  if (lng === '') {\n    lng = Cookies.get('_coin_lng_') || ''\n  }\n\n  if (!lng || lng === '') {\n    if (typeof window !== 'undefined') {\n      lng = require('browser-locale')()\n    }\n    lng = lng.indexOf('en') > -1 ? 'en' : lng\n    let splitLng = lng ? lng.split(/-|_/) : ['en']\n    lng =\n      splitLng.length > 1\n        ? `${splitLng[0]}-${splitLng[1].toUpperCase()}`\n        : splitLng[0]\n  }\n\n  if (supportLang.indexOf(lng) < 0) {\n    lng = 'en'\n  }\n\n  Cookies.set('_coin_lng_', lng)\n  return lng\n}\n\ninterface ChangeRoute extends RouteComponentProps {\n  match: any\n}\nexport const changeRoute = ({ location, history }: ChangeRoute) => {\n  const lng = parseLangParams(location.search)\n  if (lng === '' || lng !== 'en') {\n    history.replace(location.pathname + `?l=${parseLangPath(location.search)}`)\n  }\n}\n\nexport const isDexon = (chain?: string) => chain === 'dexon'\n","import Web3 from 'web3'\nimport CoinChallengs from '@Src/contracts/CoinChallenges.json'\nimport { ChallengeType } from '@Src/typing/globalTypes'\nimport { isDexon } from '@Src/utils'\n\nlet networkAddress =\n  'wss://ropsten.infura.io/ws/v3/9d6ecc41833d434a921bf5de878f834f'\nlet contractAddress = '0x26965fB7d9F93CA5D45042C3a0364932f9B1a111'\n\nexport const newContract = (web3Interface: Web3, address?: string) => {\n  let newContract = null\n  try {\n    newContract = new web3Interface.eth.Contract(\n      CoinChallengs.abi,\n      address || contractAddress\n    )\n  } catch (err) {\n    console.log(err)\n  }\n  return newContract\n}\n\nexport const parseChallenge = (response: any): ChallengeType => {\n  const challenge = {\n    round: Number(response._currentRound),\n    targetDays: Number(response._targetDays),\n    totalDays: Number(response._totalDays),\n    completeDays: Number(response._completeDays),\n    startTimestamp: Number(response._startTimestamp) * 1000,\n    sponserSize: Number(response._sponsorSize),\n    amount: Number(Web3.utils.fromWei(response._amount)),\n    totalSponsorAmount: Number(\n      Web3.utils.fromWei(response._totalSponsorAmount)\n    ),\n    goal: response._goal\n  }\n\n  return challenge\n}\n\nexport const detectNetwork = async (web3: Web3 | null, chain?: string) => {\n  let netId = 0\n  chain = chain || 'ethereum'\n  if (!web3) {\n    netId = isDexon(chain) ? 238 : 3\n  } else {\n    netId = await web3.eth.net.getId()\n  }\n\n  switch (netId) {\n    case 1: //main net\n      networkAddress =\n        'wss://mainnet.infura.io/ws/v3/9d6ecc41833d434a921bf5de878f834f'\n      CHAIN_ADDRESS[chain]('PROD')\n      break\n    case 3: //ropsten\n      networkAddress =\n        'wss://ropsten.infura.io/ws/v3/9d6ecc41833d434a921bf5de878f834f'\n      CHAIN_ADDRESS[chain]('TEST')\n      break\n    case 237: //'DEXON main Network'\n      networkAddress = 'wss://mainnet-rpc.dexon.org/ws'\n      CHAIN_ADDRESS[chain]('PROD')\n      break\n    case 238: //'DEXON Test Network'\n      networkAddress = 'wss://testnet-rpc.dexon.org/ws'\n      CHAIN_ADDRESS[chain]('TEST')\n      break\n    default:\n      networkAddress = 'ws://localhost:7545'\n      CHAIN_ADDRESS[chain]('LOCAL')\n  }\n  return networkAddress\n}\n\nconst getContract = (env: 'PROD' | 'TEST' | 'LOCAL') => {\n  switch (env) {\n    case 'PROD':\n      contractAddress = '0xf7eAF1eFdC121B00dba59e07e87616170a6e7bEC'\n      break\n    case 'TEST':\n      contractAddress = '0x26965fB7d9F93CA5D45042C3a0364932f9B1a111'\n      break\n    default:\n      contractAddress = '0x26965fB7d9F93CA5D45042C3a0364932f9B1a111'\n  }\n}\n\nconst getDexonContract = (env: 'PROD' | 'TEST' | 'LOCAL') => {\n  switch (env) {\n    case 'PROD':\n      contractAddress = '0xE021C75841a07801d06bA714C51b79C651e0a390'\n      break\n    case 'TEST':\n      contractAddress = '0x0fc4f5c56299FF58019623c3d7daF6D1c78d7d57'\n      break\n    default:\n      contractAddress = '0x0fc4f5c56299FF58019623c3d7daF6D1c78d7d57'\n  }\n}\n\nconst CHAIN_ADDRESS = {\n  ethereum: getContract,\n  dexon: getDexonContract\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const CREATE_CHALLENGE_GROUP = 'CREATE_CHALLENGE_GROUP'\nexport const SET_CREATE_RESULT = 'SET_CREATE_RESULT'\n\nexport const newChallengeGroup = (payload: object) => ({\n  type: CREATE_CHALLENGE_GROUP,\n  payload\n})\n\nexport interface SetResultProp {\n  response: {\n    status?: boolean\n    gasUsed?: number\n  }\n  error: boolean\n}\n\nexport const setCreateResult = (payload: SetResultProp) => ({\n  type: SET_CREATE_RESULT,\n  payload\n})\n","import React from 'react'\nimport Loading from '@Src/images/loading.gif'\nimport styled from 'styled-components'\nimport { injectIntl, InjectedIntlProps } from 'react-intl'\n\ninterface TransactionProp extends InjectedIntlProps {\n  txHash?: string\n  classNames?: string\n}\n\nconst Div = styled('div')({\n  position: 'relative',\n  fontSize: 14,\n  lineHeight: '16px'\n})\n\nconst Img = styled('img')({\n  width: '100px',\n  display: 'block',\n  margin: '0 auto'\n})\n\nconst Href = styled('a')({\n  position: 'absolute',\n  transform: 'translateX(-50%)',\n  left: '50%',\n  bottom: '-10px',\n  color: '#FF5722'\n})\n\nfunction Transaction({ txHash, classNames, intl }: TransactionProp) {\n  return (\n    <Div>\n      {txHash ? (\n        <Href\n          href={`https://ropsten.etherscan.io/tx/${txHash}`}\n          target='_blank'\n        >\n          {intl.formatMessage({ id: 'waitConfirm' })}\n        </Href>\n      ) : null}\n\n      <Img src={Loading} className={classNames} />\n    </Div>\n  )\n}\n\nexport default injectIntl(Transaction)\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router'\nimport TextField from '@material-ui/core/TextField'\nimport styled from 'styled-components'\nimport Button from '@material-ui/core/Button'\nimport Contract from 'web3/eth/contract'\nimport {\n  ChallengeGroupType,\n  ChainType,\n  RouteParams\n} from '@Src/typing/globalTypes'\nimport Logo from '@Src/images/logo.png'\n\nimport { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport {\n  newChallengeGroup,\n  setCreateResult,\n  SetResultProp\n} from '@Epics/challengeGroupEpic/action'\nimport {\n  checkWallet,\n  setPopup,\n  SetPopProps,\n  initContract\n} from '@Epics/commonEpic/action'\nimport { CommonStateType } from '@Reducers/commonReducer'\nimport { ChallengeGroupStateType } from '@Reducers/challengeGroupReducer'\nimport { injectIntl, InjectedIntlProps } from 'react-intl'\n\nimport Transaction from '@Components/Transaction'\nimport { APP_THEME } from '@Src/contants/themeColor'\nimport { isUrlValid } from '@Src/utils'\nimport { changeRoute } from '@Utils/index'\n\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport OutlinedInput from '@material-ui/core/OutlinedInput'\nimport web3 from 'web3'\nimport { APP_COIN } from '@Src/contants/common'\n\nconst Form = styled('form')({\n  display: 'flex',\n  flexWrap: 'wrap',\n  flexDirection: 'column',\n  alignItems: 'center',\n  '.textField': {\n    background: '#fff',\n    zIndex: 1,\n    '&:focus label': {\n      color: `${APP_THEME} !important`\n    }\n  },\n  '.button': {\n    backgroundColor: APP_THEME,\n    color: '#fff',\n    padding: '0 40px',\n    marginTop: '10px',\n    '&:hover': {\n      backgroundColor: APP_THEME,\n      opacity: 0.9\n    }\n  }\n})\n\nconst Styles = {\n  marginTop: '30px',\n  width: '100%',\n  maxWidth: '400px'\n}\n\nconst Icon = styled('img')({\n  margin: '20px 0',\n  maxWidth: '200px',\n  zIndex: 1\n})\n\nconst LabelTxt = styled('span')({\n  fontSize: '20px'\n})\n\nconst WaitingBlk = styled('div')({\n  zIndex: 1,\n  marginBottom: '10px',\n  width: '100%',\n  textAlign: 'center'\n})\n\nconst ErrorTxt = styled('div')({\n  fontSize: '12px',\n  color: 'red',\n  width: '100%',\n  maxWidth: '400px',\n  paddingLeft: '5px',\n  margin: '10px 0 -15px',\n  textAlign: 'left'\n})\n\nconst FormStyle = {\n  maxWidth: '400px',\n  margin: '20px 0 10px',\n  backgroundColor: '#fff'\n}\n\nconst MenuStyle = {\n  style: {\n    maxHeight: '300px',\n    padding: '0 10px'\n  }\n}\n\nconst SelectStyle = {\n  padding: '0 10px 0 15px'\n}\n\nfunction Label({ text }: { text: string }) {\n  return <LabelTxt>{text}</LabelTxt>\n}\n\nconst defaultGroupState = {\n  id: '',\n  name: '',\n  url: '',\n  minDays: '0',\n  maxDays: '0',\n  maxDelayDays: '7',\n  minAmount: ''\n}\n\ninterface CreateChallengeGroupProp\n  extends InjectedIntlProps,\n    RouteComponentProps {\n  contract: Contract | null\n  isConfirming: boolean\n  txHash?: string\n  createResult: ChallengeGroupStateType\n  newChallengeGroup: (payload: ChallengeGroupType) => void\n  checkWallet: (chain?: string) => void\n  setCreateResult: (payload: SetResultProp) => void\n  setPopup: (payload: SetPopProps) => void\n  initContract: (chain?: string) => void\n}\n\ninterface ErrorKeys extends ChallengeGroupType {\n  agent?: any\n}\n\ntype ErrorProp = { [s in keyof ErrorKeys]?: string | undefined }\ntype StateProp = {\n  challengeGroup: ChallengeGroupType\n  error: ErrorProp\n  agent: string\n  canSend: boolean\n}\n\nconst hasError = (val?: string) => val !== undefined && val !== ''\n\nconst mapStateToProps = (state: Map<string, object>) => {\n  const commonReducer = state.get('common') as CommonStateType\n  return {\n    contract: commonReducer.get('contract'),\n    isConfirming: commonReducer.get('isConfirming'),\n    txHash: commonReducer.get('txHash'),\n    createResult: state.get('challengeGroup') as ChallengeGroupStateType\n  }\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  initContract: (chain?: string) => dispatch(initContract(chain)),\n  checkWallet: (chain?: string) => dispatch(checkWallet(chain)),\n  setPopup: (payload: SetPopProps) => dispatch(setPopup(payload)),\n  setCreateResult: (payload: SetResultProp) =>\n    dispatch(setCreateResult(payload)),\n  newChallengeGroup: (payload: ChallengeGroupType) => {\n    dispatch(\n      newChallengeGroup({\n        ...payload,\n        dispatch\n      })\n    )\n  }\n})\n\nclass CreateChallengeGroup extends React.Component<\n  CreateChallengeGroupProp,\n  StateProp\n> {\n  static LabelProp = {\n    shrink: true\n  }\n\n  public chain: ChainType = 'ethereum'\n\n  public state = {\n    challengeGroup: { ...defaultGroupState } as ChallengeGroupType,\n    error: {\n      minDays: '',\n      maxDays: ''\n    } as ErrorProp,\n    agent: '',\n    canSend: false\n  }\n\n  constructor(props: CreateChallengeGroupProp) {\n    super(props)\n    const params = this.props.match.params as RouteParams\n    this.chain = params.chain\n  }\n\n  private onTextChange = (key: keyof ChallengeGroupType) => (\n    e: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    let val = e.currentTarget.value as string\n    const { challengeGroup, error } = this.state\n    challengeGroup[key] = val\n    error[key] = val.length <= 0 ? `error.invalid.group.${key}` : ''\n    this.setState(\n      {\n        challengeGroup: { ...challengeGroup },\n        error: { ...error }\n      },\n      this.checkForm\n    )\n  }\n\n  private onDayChange = (key: keyof ChallengeGroupType) => (\n    e:\n      | React.ChangeEvent<HTMLInputElement>\n      | React.ChangeEvent<HTMLSelectElement>\n  ) => {\n    let val = e.target.value as string\n    const { challengeGroup, error } = this.state\n    challengeGroup[key] = val\n    if (Number(challengeGroup['maxDays']) < Number(challengeGroup['minDays'])) {\n      challengeGroup['maxDays'] = challengeGroup['minDays']\n    }\n    error['minDays'] =\n      Number(challengeGroup['minDays']) <= 0 ? 'error.empty.min.days' : ''\n    error['maxDays'] =\n      Number(challengeGroup['maxDays']) <= 0 ? 'error.empty.max.days' : ''\n    this.setState(\n      {\n        challengeGroup: { ...challengeGroup },\n        error: {\n          ...error\n        }\n      },\n      this.checkForm\n    )\n  }\n\n  private onDelayDayChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    let val = e.target.value as string\n    const { challengeGroup, error } = this.state\n    challengeGroup.maxDelayDays = val\n    this.setState(\n      {\n        challengeGroup: { ...challengeGroup },\n        error: { ...error }\n      },\n      this.checkForm\n    )\n  }\n\n  private onAmountChange = (field: keyof ChallengeGroupType) => (\n    e: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    let val = e.currentTarget.value as string\n    const { challengeGroup, error } = this.state\n    challengeGroup[field] = val\n    error[field] = Number(val) <= 0 ? 'error.min.amount' : ''\n    this.setState(\n      {\n        challengeGroup,\n        error\n      },\n      this.checkForm\n    )\n  }\n\n  private onUrlChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let val = e.currentTarget.value as string\n    const { challengeGroup, error } = this.state\n    challengeGroup['url'] = val\n    error['url'] = !isUrlValid(val) ? 'error.invalid.url' : ''\n    this.setState(\n      {\n        challengeGroup: { ...challengeGroup },\n        error: { ...error }\n      },\n      this.checkForm\n    )\n  }\n\n  private onAgentChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    let val = e.currentTarget.value as string\n    const isEmpty = val === ''\n    const { error } = this.state\n    error['agent'] =\n      !isEmpty && !web3.utils.isAddress(val) ? 'invalidAddress' : ''\n    this.setState(\n      {\n        agent: val,\n        error: { ...error }\n      },\n      this.checkForm\n    )\n  }\n\n  private checkForm = () => {\n    let hasError = false\n\n    for (let field in this.state.challengeGroup) {\n      hasError =\n        hasError ||\n        (field !== 'maxDelayDays' &&\n          this.state.challengeGroup[field] === defaultGroupState[field])\n      if (hasError) {\n        break\n      }\n    }\n\n    if (!hasError) {\n      for (let field in this.state.error) {\n        hasError = hasError || this.state.error[field] !== ''\n        if (hasError) {\n          break\n        }\n      }\n    }\n\n    this.setState({\n      canSend: !hasError\n    })\n\n    return hasError\n  }\n\n  private onSubmit = () => {\n    let hasError = this.checkForm()\n\n    if (hasError) {\n      this.props.setPopup({\n        showPop: true,\n        messageKey: 'createDataError'\n      })\n      return\n    }\n    this.props.checkWallet(this.chain)\n    this.props.newChallengeGroup({\n      ...this.state.challengeGroup,\n      agent: this.state.agent\n    })\n  }\n\n  private errorTxt = (key?: string, props?: { [key: string]: any }) => {\n    if (key && hasError(key)) {\n      props = props || []\n      return (\n        <ErrorTxt>\n          {this.props.intl.formatMessage({ id: key }, { ...props })}\n        </ErrorTxt>\n      )\n    }\n    return null\n  }\n\n  public componentDidUpdate() {\n    const response = this.props.createResult.get('response')\n    if (response.status) {\n      this.props.setCreateResult({\n        response: {},\n        error: false\n      })\n      this.setState({ challengeGroup: { ...defaultGroupState }, agent: '' })\n    }\n  }\n\n  public componentDidMount() {\n    const { history, location, initContract } = this.props\n    changeRoute({ history, location, match: {} })\n    initContract(this.chain)\n  }\n\n  public render() {\n    const { challengeGroup, error, agent } = this.state\n    const { intl, isConfirming, txHash } = this.props\n\n    return (\n      <Form noValidate autoComplete='off' style={{ padding: '0 10px' }}>\n        <Icon src={Logo} />\n        {this.errorTxt(error.id)}\n        <TextField\n          label={\n            <Label text={intl.formatMessage({ id: 'challengeGroupId' })} />\n          }\n          className='textField'\n          margin='normal'\n          variant='outlined'\n          type='number'\n          placeholder='e.g: 5566'\n          value={challengeGroup.id}\n          onChange={this.onTextChange('id')}\n          error={hasError(error.id)}\n          InputLabelProps={CreateChallengeGroup.LabelProp}\n          style={Styles}\n          required\n        />\n        {this.errorTxt(error.name)}\n        <TextField\n          label={\n            <Label text={intl.formatMessage({ id: 'challengeGroupName' })} />\n          }\n          className='textField'\n          margin='normal'\n          variant='outlined'\n          value={challengeGroup.name}\n          onChange={this.onTextChange('name')}\n          error={hasError(error.name)}\n          InputLabelProps={CreateChallengeGroup.LabelProp}\n          style={Styles}\n          required\n        />\n        {this.errorTxt(error.url)}\n        <TextField\n          label={\n            <Label text={intl.formatMessage({ id: 'challengeGroupCover' })} />\n          }\n          className='textField'\n          margin='normal'\n          variant='outlined'\n          value={challengeGroup.url}\n          onChange={this.onUrlChange}\n          error={hasError(error.url)}\n          InputLabelProps={CreateChallengeGroup.LabelProp}\n          style={Styles}\n          required\n        />\n\n        <FormControl\n          variant='outlined'\n          fullWidth={true}\n          style={FormStyle}\n          required\n        >\n          <InputLabel htmlFor='outlined-age-simple'>\n            {intl.formatMessage({ id: 'minChallengeDays' })}{' '}\n          </InputLabel>\n          <Select\n            MenuProps={MenuStyle}\n            value={challengeGroup.minDays}\n            onChange={this.onDayChange('minDays')}\n            style={SelectStyle}\n            input={<OutlinedInput labelWidth={150} />}\n          >\n            {new Array(79).fill(0).map((_data: number, index: number) => (\n              <MenuItem key={`option-${index}`} value={index + 12}>\n                {index + 12}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n\n        <FormControl\n          variant='outlined'\n          fullWidth={true}\n          style={FormStyle}\n          required\n        >\n          <InputLabel htmlFor='outlined-age-simple'>\n            {intl.formatMessage({ id: 'maxChallengeDays' })}\n          </InputLabel>\n          <Select\n            MenuProps={MenuStyle}\n            value={challengeGroup.maxDays}\n            onChange={this.onDayChange('maxDays')}\n            style={SelectStyle}\n            input={<OutlinedInput labelWidth={150} />}\n          >\n            {new Array(90 - Number(challengeGroup.minDays) + 1)\n              .fill(0)\n              .map((_data: number, index: number) => (\n                <MenuItem\n                  key={`option-max-${index}`}\n                  value={(Number(challengeGroup.minDays) || 12) + index}\n                >\n                  {(Number(challengeGroup.minDays) || 12) + index}\n                </MenuItem>\n              ))}\n          </Select>\n        </FormControl>\n\n        <FormControl\n          variant='outlined'\n          fullWidth={true}\n          style={FormStyle}\n          required\n        >\n          <InputLabel htmlFor='outlined-age-simple'>\n            {intl.formatMessage({ id: 'maxDelayDays' })}\n          </InputLabel>\n          <Select\n            MenuProps={MenuStyle}\n            value={challengeGroup.maxDelayDays}\n            onChange={this.onDelayDayChange}\n            style={SelectStyle}\n            input={<OutlinedInput labelWidth={140} />}\n          >\n            {new Array(90).fill(0).map((_data: number, index: number) => (\n              <MenuItem key={`option-delay-${index}`} value={index + 1}>\n                {index + 1}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n        {this.errorTxt(error.minAmount, { coin: APP_COIN(this.chain) })}\n        <TextField\n          label={\n            <Label text={intl.formatMessage({ id: 'minChallengeAmount' })} />\n          }\n          className='textField'\n          type='number'\n          margin='normal'\n          value={challengeGroup.minAmount}\n          onChange={this.onAmountChange('minAmount')}\n          error={hasError(error.minAmount)}\n          variant='outlined'\n          InputLabelProps={CreateChallengeGroup.LabelProp}\n          style={Styles}\n          required\n        />\n        {this.errorTxt(error.agent)}\n        <TextField\n          label={<Label text={intl.formatMessage({ id: 'agent' })} />}\n          className='textField'\n          margin='normal'\n          variant='outlined'\n          placeholder='e.g 0xa99CeB4475670cCDF31a78232bfA585848598cBA'\n          value={agent}\n          onChange={this.onAgentChange}\n          error={hasError(error.agent)}\n          InputLabelProps={CreateChallengeGroup.LabelProp}\n          style={Styles}\n        />\n\n        <br />\n        {isConfirming ? (\n          <WaitingBlk>\n            <Transaction txHash={txHash} classNames='progress' />\n          </WaitingBlk>\n        ) : null}\n        <Button\n          variant='contained'\n          className='button'\n          onClick={this.onSubmit}\n          disabled={!this.state.canSend}\n        >\n          {intl.formatMessage({ id: 'create' })}\n        </Button>\n      </Form>\n    )\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(injectIntl(CreateChallengeGroup))\n","import React from 'react'\nimport styled from 'styled-components'\nimport { breakPoint } from '@Src/contants/common'\nimport LogoImg from '@Src/images/logo.png'\n\nconst StyledTtitleCtr = styled('div')({\n  position: 'relative',\n  [`@media (max-width: ${breakPoint})`]: {\n    minHeight: 0\n  }\n})\n\nconst StyledTitle = styled('span')({\n  position: 'absolute',\n  top: 0,\n  fontSize: '34px',\n  padding: '20px 0 0 20px',\n  lineHeight: '30px',\n  width: '100%',\n  '.goal': {\n    fontSize: '24px'\n  }\n})\n\nconst Logo = styled('img')({\n  display: 'block',\n  width: '50%',\n  margin: '0 auto'\n})\ninterface ChallengeCardProp {\n  name: string\n  goal: string\n  url: string\n  invalidAddress: boolean\n}\n\nconst ChallengeCard = React.memo(\n  ({ goal, name, url, invalidAddress }: ChallengeCardProp) => (\n    <React.Fragment>\n      {/* <StyledFont>Challenger: {address}</StyledFont> */}\n      <StyledTtitleCtr>\n        <StyledTitle>\n          {invalidAddress ? '' : name}\n          <br />\n          <span className='goal'>{url === '' ? '' : goal}</span>\n        </StyledTitle>\n        {invalidAddress || url === '' ? (\n          <Logo src={LogoImg} />\n        ) : (\n          <img src={url} width='100%' />\n        )}\n      </StyledTtitleCtr>\n    </React.Fragment>\n  )\n)\n\nexport default ChallengeCard\n","import React from 'react'\nimport styled from 'styled-components'\nimport {\n  APP_LIGHT_BG,\n  APP_FONT_COLOR_DARK,\n  APP_THEME\n} from '@Src/contants/themeColor'\nimport { breakPoint } from '@Src/contants/common'\nimport { injectIntl, InjectedIntlProps } from 'react-intl'\nimport { withStyles, WithStyles } from '@material-ui/core/styles'\nimport { formatPercent } from '@Src/utils'\n\nconst StyledFont = styled('span')({\n  fontSize: '40px',\n  fontWeight: 700,\n  color: APP_THEME,\n  textAlign: 'center'\n})\n\nconst StyledUnitFont = styled('span')({\n  fontSize: 14,\n  color: APP_FONT_COLOR_DARK,\n  opacity: 0.6,\n  wordBreak: 'keep-all'\n})\n\nconst StyledContent = styled('div')({\n  fontSize: 16,\n  color: APP_FONT_COLOR_DARK,\n  opacity: 0.6,\n  margin: '10px auto',\n  lineHeight: '24px',\n  textAlign: 'left',\n  maxWidth: '80%',\n  [`@media (max-width: ${breakPoint})`]: {\n    fontSize: 16,\n    lineHeight: '24px',\n    maxWidth: '100%'\n  }\n})\n\nconst CrowdCtr = styled('div')({\n  display: 'flex',\n  alignItems: 'baseline',\n  justifyContent: 'center'\n})\n\nconst InfoBlk = styled('div')({\n  textAlign: 'center',\n  background: APP_LIGHT_BG,\n  padding: '0 10px',\n  wordBreak: 'break-all'\n})\ninterface InfoCtrProp {\n  bgcolor?: string\n}\n\nconst Grid = styled('div')({\n  width: '50%',\n  padding: '10px 0',\n  [`@media (max-width: ${breakPoint})`]: {\n    width: '100%'\n  }\n})\n\nconst styles = (_theme: any) => ({\n  lightTooltip: {\n    fontSize: 20\n  }\n})\n\nconst Address = styled('div')({\n  color: 'rgba(0, 0, 0, 0.4)',\n  padding: '10px 0'\n})\n\nconst Amount = styled('div')({\n  fontSize: 40,\n  fontWeight: 700,\n  padding: '10px 0'\n})\n\nconst StyledInfoCtr = styled('div')<InfoCtrProp>`\n  display: flex;\n  background: ${(props: InfoCtrProp) =>\n    props.bgcolor ? props.bgcolor : APP_LIGHT_BG};\n  justify-content: center;\n  align-items: center;\n  @media (max-width: ${breakPoint}) {\n    ${StyledFont} {\n      font-size: 28px;\n      word-break: keep-all;\n    }\n  }\n`\ninterface ChallengeInfoProp extends InjectedIntlProps, WithStyles {\n  address: string\n  completeDays: number\n  targetDays: number\n  totalDays: number\n  amount: number\n  invalidAddress: boolean\n  coin: string\n}\n\nfunction ChallengeInfo({\n  address,\n  completeDays,\n  totalDays,\n  targetDays,\n  amount,\n  intl,\n  invalidAddress,\n  coin\n}: ChallengeInfoProp) {\n  return (\n    <InfoBlk>\n      <Address>{invalidAddress ? '--' : address}</Address>\n      <Amount>\n        {Number(amount)} {coin}\n      </Amount>\n      <StyledInfoCtr>\n        <Grid>\n          <StyledFont>\n            {completeDays}/{totalDays}\n          </StyledFont>\n          <StyledUnitFont> {intl.formatMessage({ id: 'days' })}</StyledUnitFont>\n        </Grid>\n        <Grid>\n          <CrowdCtr>\n            <StyledUnitFont>\n              {intl.formatMessage({ id: 'achieve' })}{' '}\n            </StyledUnitFont>\n            <StyledFont>\n              &nbsp;{formatPercent(completeDays, totalDays)}\n            </StyledFont>\n          </CrowdCtr>\n        </Grid>\n      </StyledInfoCtr>\n      <StyledContent>\n        {intl.formatMessage({ id: 'completeDesc' }, { targetDays })}\n      </StyledContent>\n      <StyledContent>\n        {intl.formatMessage({ id: 'sponsorContent' })}\n      </StyledContent>\n    </InfoBlk>\n  )\n}\n\nexport default withStyles(styles)(injectIntl(ChallengeInfo))\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport styled from 'styled-components'\nimport { InjectedIntl } from 'react-intl'\nimport { APP_COIN } from '@Src/contants/common'\nimport { ChainType } from '@Src/typing/globalTypes'\n\nconst FabCtr = styled('span')({\n  display: 'block',\n  textAlign: 'center',\n  padding: 10,\n  zIndex: 6,\n  '.sponsor-btn': {\n    padding: '0 30px',\n    minWidth: '300px',\n    lineHeight: '45px'\n  }\n})\n\ninterface SponsorButtonState {\n  open: boolean\n  amountError: boolean\n  commentError: boolean\n}\n\ninterface SponsorButtonProp {\n  chain?: ChainType\n  onSponsor: Function\n  checkWallet: (chain?: string) => boolean\n  intl: InjectedIntl\n}\n\nclass SponsorButton extends React.PureComponent<\n  SponsorButtonProp,\n  SponsorButtonState\n> {\n  private amountRef: React.RefObject<any> = React.createRef()\n  private commentRef: React.RefObject<any> = React.createRef()\n\n  public state = {\n    open: false,\n    amountError: false,\n    commentError: false\n  }\n\n  private onConfirm = () => {\n    const amount = Number(this.amountRef.current.value)\n    const comment = this.commentRef.current.value.trim()\n    const amountError = amount <= 0\n    const commentError = comment === ''\n    if (amountError || commentError) {\n      this.setState({\n        amountError,\n        commentError\n      })\n      return\n    }\n    this.props.onSponsor({\n      amount,\n      comment\n    })\n    this.handleClose()\n  }\n\n  private handleClose = () => {\n    this.setState({\n      open: false\n    })\n  }\n\n  private handleOpen = () => {\n    const open = this.props.checkWallet(this.props.chain)\n    open &&\n      this.setState({\n        open: true\n      })\n  }\n\n  public render() {\n    const { intl, chain } = this.props\n    return (\n      <React.Fragment>\n        <FabCtr onClick={this.handleOpen}>\n          <Button className='sponsor-btn' variant='contained' color='primary'>\n            {intl.formatMessage({ id: 'sponsor' })}\n          </Button>\n        </FabCtr>\n        <Dialog\n          open={this.state.open}\n          onClose={this.handleClose}\n          aria-labelledby='form-dialog-title'\n        >\n          <DialogTitle\n            id='form-dialog-title'\n            style={{ textTransform: 'uppercase' }}\n          >\n            {intl.formatMessage({ id: 'sponsor' })}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              {intl.formatMessage({ id: 'sponsorDesc' })}\n            </DialogContentText>\n            <TextField\n              error={this.state.amountError}\n              required\n              margin='dense'\n              id='amount'\n              label={`${intl.formatMessage({\n                id: 'amount'\n              })} (${APP_COIN(chain)})`}\n              type='number'\n              inputRef={this.amountRef}\n              fullWidth\n            />\n            <TextField\n              error={this.state.commentError}\n              required\n              margin='dense'\n              id='comment'\n              label={intl.formatMessage({ id: 'comment' })}\n              type='text'\n              inputRef={this.commentRef}\n              fullWidth\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color='primary'>\n              {intl.formatMessage({ id: 'cancel' })}\n            </Button>\n            <Button onClick={this.onConfirm} color='primary'>\n              {intl.formatMessage({ id: 'confirm' })}\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default SponsorButton\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport { APP_THEME, APP_LIGHT_BG } from '@Src/contants/themeColor'\nimport { breakPoint } from '@Src/contants/common'\nimport { Sponsor } from '@Src/typing/globalTypes'\nimport web3 from 'web3'\n\nconst SponserCtr = styled('div')({\n  marginTop: '10px',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center'\n})\n\nconst BarCtr = styled('div')({\n  width: 'calc(80% - 20px)',\n  minWidth: '558px',\n  background: APP_LIGHT_BG,\n  marginBottom: '15px',\n  [`@media (max-width: ${breakPoint})`]: {\n    width: '100%',\n    minWidth: 0,\n    padding: '0 10px'\n  }\n})\n\nconst Address = styled('span')({\n  fontSize: '12px',\n  paddingRight: '10px',\n  color: 'rgba(0, 0, 0, 0.3)'\n})\n\nconst CoinTxt = styled('div')({\n  color: APP_THEME,\n  textAlign: 'right'\n})\n\nconst Comment = styled('span')({\n  fontSize: '16px',\n  color: 'rgba(0, 0, 0, 0.8)'\n})\n\nconst SponsorTitle = styled('div')({\n  display: 'flex',\n  justifyContent: 'space-between',\n  marginBottom: '5px',\n  [`@media (max-width: ${breakPoint})`]: {\n    alignItems: 'center',\n    [Address]: {\n      flex: 3,\n      wordBreak: 'break-all'\n    },\n    [CoinTxt]: {\n      flex: 1\n    }\n  }\n})\n\nfunction Sponsers({ sponsors, coin }: { sponsors: Sponsor[]; coin: string }) {\n  return (\n    <SponserCtr>\n      {sponsors.map((sponsor: any, idx: number) => (\n        <BarCtr key={idx}>\n          <SponsorTitle>\n            <Address>{sponsor.who}</Address>\n            <CoinTxt>\n              +{Number(web3.utils.fromWei(sponsor.amount))} {coin}\n            </CoinTxt>\n          </SponsorTitle>\n          <div>\n            <Comment>{sponsor.comment}</Comment>\n          </div>\n        </BarCtr>\n      ))}\n    </SponserCtr>\n  )\n}\n\nexport default Sponsers\n","import Contract from 'web3/eth/contract'\nimport { Sponsor, ChallengeType } from '@Src/typing/globalTypes'\nimport { parseChallenge } from '@Utils/contractUtils'\nimport web3 from 'web3'\n//process.env.REACT_APP_CONTRACT_ADDRESS\n\ninterface GetGroupProp {\n  contract: Contract\n  groupId: string\n  minAmount: number\n}\n\nexport const getChallengeGroup = async (props: GetGroupProp) => {\n  const { contract, groupId } = props\n  const res = await contract.methods.getChallengeGroup(groupId).call()\n  return {\n    name: res._name,\n    url: res._url,\n    minAmount: Number(web3.utils.fromWei(res._minAmount))\n  }\n}\n\nexport const canSponsor = async (\n  contract: Contract,\n  groupId: string,\n  who: string\n) => {\n  const res = await contract.methods.canSponsor(groupId, who).call()\n  return res\n}\n\ninterface GetChallengeProp {\n  contract: Contract\n  groupId: string\n  challenger: string\n}\n\ninterface GetChallengeEvevntProp {\n  contract: Contract\n  filter?: {\n    challenger?: string\n  }\n  callback?: Function\n}\n\nexport const newChallengesEvents = async ({\n  contract,\n  filter,\n  callback\n}: GetChallengeEvevntProp) => {\n  await contract.events.NewChallenge(\n    {\n      filter\n    },\n    function(_error: any, event: any) {\n      const {\n        challenger,\n        groupId,\n        targetDays,\n        totalDays,\n        startTimestamp,\n        amount\n      } = event.returnValues\n      callback &&\n        callback({\n          proposer: challenger,\n          groupId,\n          targetDays,\n          totalDays,\n          startTimestamp,\n          amount\n        })\n    }\n  )\n}\n\nexport const getPastChallenges = async ({\n  contract,\n  groupId,\n  challenger\n}: GetChallengeProp) => {\n  const finishChallenges =\n    (await getAllPastEvents(contract, 'FinishChallenge', {\n      fromBlock: 0,\n      filter: { groupId, challenger }\n    })) || []\n\n  const data: Array<ChallengeType> = []\n\n  for (let i = 0; i < finishChallenges.length; i++) {\n    const { returnValues } = finishChallenges[i]\n    data.push({\n      round: returnValues.round,\n      targetDays: returnValues.targetDays,\n      totalDays: returnValues.totalDays,\n      completeDays: returnValues.completeDays,\n      startTimestamp: returnValues.startTimestamp,\n      sponserSize: 0,\n      amount: returnValues.amount,\n      totalSponsorAmount: returnValues.totalSponsorAmount,\n      status: returnValues.status,\n      goal: returnValues.goal\n    })\n  }\n\n  return data\n}\n\nexport const getNewChallengeGroup = async (contract: Contract) => {\n  await contract.events.NewChallengeGroup(\n    {\n      fromBlock: 0\n    },\n    function(_error: any, event: any) {\n      console.log('event,', event)\n    }\n  )\n}\n\ninterface PastEventProp {\n  fromBlock: number\n  toBlock?: number | 'latest'\n  filter?: object\n}\n\nexport const getAllPastEvents = async (\n  contract: Contract | null,\n  event: string = 'allEvents',\n  options?: PastEventProp\n) => {\n  options = options || { fromBlock: 0 }\n  if (!contract) {\n    return\n  }\n  return await contract.getPastEvents(event, options)\n}\n\nexport const getPastSponsor = async (\n  contract: Contract | null,\n  round: number,\n  groupId: string,\n  challenger: string,\n  sponserSize: number = 0,\n  options?: PastEventProp\n) => {\n  options = options || { fromBlock: 0 }\n\n  let response = {\n    data: [] as Sponsor[]\n  }\n  let sponsers: any[] = []\n\n  if (contract) {\n    let sponsor: any | undefined\n    let i = 0\n    while (i === 0 || sponsor._who) {\n      try {\n        sponsor = await contract.methods\n          .getSponsor(groupId, challenger, round, i)\n          .call()\n\n        sponsers.push({\n          who: sponsor._who,\n          amount: sponsor._amount,\n          comment: sponsor._comment\n        })\n      } catch (error) {\n        sponsor = {}\n      }\n      i++\n    }\n  }\n\n  if (!sponsers.length) {\n    return response\n  }\n\n  sponserSize = sponserSize || sponsers.length\n  // data = sponsers.slice(sponserSize * -1).reverse()\n\n  response.data = sponsers || []\n\n  return response\n}\n\ninterface SponsorEventProp {\n  contract: Contract\n  groupId: string\n  challenger: string\n  fromBlock?: number\n  callback?: (sponser: Sponsor) => void\n}\n\nexport const sponsorEvents = async ({\n  contract,\n  groupId,\n  challenger,\n  callback\n}: SponsorEventProp) => {\n  contract.events\n    .SponsorChallenge({\n      filter: { groupId, challenger }\n    })\n    .on('data', function(event) {\n      if (callback) {\n        const { amount, comment, sponsor } = event.returnValues\n        callback({\n          amount,\n          comment,\n          who: sponsor\n        })\n      }\n    })\n}\n\ninterface GetChallengeServerProp {\n  contract: Contract\n  groupId: string\n  challenger: string\n  round?: number\n}\nexport const getChallenge = async ({\n  contract,\n  groupId,\n  challenger,\n  round\n}: GetChallengeServerProp) => {\n  const method = round && round > 0 ? 'getChallenge' : 'getCurrentChallenge'\n  const params =\n    method === 'getChallenge'\n      ? [groupId, challenger, round]\n      : [groupId, challenger]\n  const response = await contract.methods[method](...params).call()\n  return parseChallenge(response)\n}\n\ninterface SponsorProp {\n  contract: Contract\n  groupId: string\n  address: string\n  from: string\n  amount: number\n  comment: string\n}\n\nexport const sponsorChallenge = async ({\n  contract,\n  groupId,\n  address,\n  from,\n  amount,\n  comment\n}: SponsorProp) => {\n  await contract.methods\n    .sponsorChallenge(groupId, address, comment)\n    .send({\n      from,\n      value: amount\n    })\n    .on('error', (err: any) => {\n      console.log('sponer error')\n      console.log(err)\n    })\n    .then((res: any) => {\n      console.log('sponser success')\n      console.log(res)\n    })\n}\n\n// contract.getPastEvents('allEvents', {fromBlock: 0}, function(error, events){ console.log(events); })\n\n// web3.eth.sendTransaction({\n//   from: '0xE13acF256C86292d0f808eA58B8afFE162927a3D',\n//   to: '0xCB4b9C9292410007D6FB7a7C061666B298f06ee2',\n//   value: 2000000000000000000\n// })\n","import React from 'react'\nimport { APP_LIGHT_BG, APP_THEME } from '@Src/contants/themeColor'\nimport { breakPoint } from '@Src/contants/common'\nimport styled from 'styled-components'\n\nimport { injectIntl, InjectedIntlProps } from 'react-intl'\nimport Contract from 'web3/eth/contract'\nimport { getPastChallenges } from '@Src/contracts/contractService'\nimport { ChallengeType } from '@Src/typing/globalTypes'\nimport { formatNumber } from '@Src/utils'\nimport web3 from 'web3'\nimport moment from 'moment'\n\nconst STATUS = ['Succeeded', 'Failed', 'Aborted']\nconst STATUS_COLOR = [\n  'rgba(0, 0, 0, 0.6)',\n  'rgba(0, 0, 0, 0.6)',\n  'rgba(0, 0, 0, 0.6)'\n]\n\ninterface HistoryProp extends InjectedIntlProps {\n  contract: Contract | null\n  challenger: string\n  groupId: string\n  coin: string\n}\n\ninterface HistoryState {\n  challenges: Array<ChallengeType>\n}\n\nconst Title = styled('div')({\n  fontSize: 30,\n  color: 'rgba(0, 0, 0, 0.8)',\n  textAlign: 'center',\n  margin: '20px 0 10px',\n  paddingBottom: '10px',\n  borderBottom: `3px solid ${APP_THEME}`\n})\n\nconst TimelineCtr = styled('div')({\n  background: APP_LIGHT_BG,\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center'\n})\n\nconst HistoryCtr = styled('div')({\n  width: 'calc(80% - 20px)',\n  minWidth: '558px',\n  display: 'flex',\n  margin: '10px 0',\n  justifyContent: 'space-between',\n  color: 'rgba(0, 0, 0, 0.6)',\n  [`@media (max-width: ${breakPoint})`]: {\n    width: '100%',\n    minWidth: 0,\n    padding: '0 10px'\n  }\n})\n\nconst Amount = styled('span')({\n  color: 'rgba(0, 0, 0, 0.8)',\n  lineHeight: '20px',\n  fontWeight: 600\n})\n\nconst ResultText = styled('div')({\n  fontSize: '18px',\n  fontWeight: 600\n})\n\nclass HistoryTimeline extends React.PureComponent<HistoryProp, HistoryState> {\n  private fetched: boolean = false\n  public state = {\n    challenges: []\n  }\n  public async componentDidUpdate() {\n    const { contract, groupId, challenger } = this.props\n    if (contract && !this.fetched) {\n      const pastChallengs = await getPastChallenges({\n        contract,\n        groupId,\n        challenger\n      })\n      this.fetched = true\n      this.setState({\n        challenges: pastChallengs\n      })\n    }\n  }\n  public render() {\n    const { intl, coin } = this.props\n    const { challenges } = this.state\n    if (!challenges.length) {\n      return null\n    }\n    return (\n      <TimelineCtr>\n        <Title>\n          {challenges.length\n            ? intl.formatMessage({\n                id: 'history'\n              })\n            : null}\n        </Title>\n        {challenges.map((challenge: ChallengeType, idx: number) => {\n          const status = challenge.status || 0\n          return (\n            <HistoryCtr key={`history-${idx}`}>\n              <div>\n                {moment(challenge.startTimestamp * 1000).format(\n                  intl.formatMessage({ id: 'challenge.history.date.formate' })\n                )}\n                <br />\n                <Amount>\n                  {Number(\n                    formatNumber(Number(web3.utils.fromWei(challenge.amount)))\n                  )}{' '}\n                  {coin}\n                </Amount>\n              </div>\n              <ResultText style={{ color: STATUS_COLOR[status] }}>\n                {intl.formatMessage({\n                  id: 'status.' + STATUS[status]\n                })}\n              </ResultText>\n            </HistoryCtr>\n          )\n        })}\n      </TimelineCtr>\n    )\n  }\n}\n\nexport default injectIntl(HistoryTimeline)\n","import React, { ReactNode } from 'react'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\nimport styled from 'styled-components'\nimport Contract from 'web3/eth/contract'\nimport { newChallengesEvents } from '@Src/contracts/contractService'\nimport { ChallengeType } from '@Src/typing/globalTypes'\nimport { withStyles, WithStyles } from '@material-ui/core/styles'\nimport web3 from 'web3'\ninterface MessageProp {\n  key: number\n  message: ReactNode\n}\n\ninterface NotifierState {\n  open: boolean\n  messageInfo: MessageProp | {}\n}\n\ninterface ChallengeEvent extends ChallengeType {\n  proposer: string\n}\n\nconst StyledTxt = styled('span')({\n  color: '#e10050'\n})\n\nconst style = {\n  message: {\n    maxWidth: '85%'\n  }\n}\n\ninterface NotifierProps extends WithStyles {\n  contract: Contract | null\n  coin: string\n}\n\nclass Notifier extends React.Component<NotifierProps, NotifierState> {\n  private queue: Array<MessageProp> = []\n  private registered: boolean = false\n\n  public state = {\n    open: false,\n    messageInfo: {\n      key: Math.random(),\n      message: ''\n    }\n  }\n\n  private processQueue = () => {\n    if (this.queue.length > 0) {\n      this.setState({\n        messageInfo: this.queue.shift() as MessageProp,\n        open: true\n      })\n    }\n  }\n\n  private handleClose = () => {\n    this.setState({ open: false })\n  }\n\n  private handleExited = () => {\n    this.processQueue()\n  }\n\n  private insertEvent = (props: ChallengeEvent) => {\n    const { coin } = this.props\n    const { proposer, amount } = props\n    this.queue.push({\n      key: Math.random(),\n      message: (\n        <span>\n          {proposer} has created a challenge with{' '}\n          <StyledTxt>{Number(web3.utils.fromWei(amount))}</StyledTxt>\n          {coin}\n        </span>\n      )\n    })\n    this.processQueue()\n  }\n\n  public componentDidUpdate() {\n    const { contract } = this.props\n    if (contract && !this.registered) {\n      this.registered = true\n      newChallengesEvents({\n        contract,\n        callback: this.insertEvent\n      })\n    }\n  }\n\n  public render() {\n    const { messageInfo } = this.state\n    const { classes } = this.props\n\n    return (\n      <Snackbar\n        key={messageInfo.key}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left'\n        }}\n        open={this.state.open}\n        autoHideDuration={2000}\n        onClose={this.handleClose}\n        onExited={this.handleExited}\n        ContentProps={{\n          'aria-describedby': 'message-id',\n          classes\n        }}\n        message={messageInfo.message}\n        action={[\n          <IconButton\n            key='close'\n            aria-label='Close'\n            color='inherit'\n            onClick={this.handleClose}\n          >\n            <CloseIcon />\n          </IconButton>\n        ]}\n      />\n    )\n  }\n}\n\nexport default withStyles(style)(Notifier)\n","import { ChallengeType } from '@Src/typing/globalTypes'\nimport { Sponsor } from '@Src/typing/globalTypes'\nimport { Dispatch } from 'redux'\n\ninterface GetChallengeProp {\n  groupId: string\n  challenger: string\n  round?: number\n}\n\nexport interface SetGroupProp {\n  groupName: string\n  groupImage: string\n  minAmount: number\n}\n\nexport interface SetSponserProp {\n  sponsors: Array<Sponsor>\n}\n\nexport interface SponserProp {\n  groupId: string\n  who: string\n  comment: string\n  amount: number\n  dispatch?: Dispatch\n}\n\nexport interface SetConfirmSponsor {\n  isCofirmingSponsor: boolean\n  txhash: string\n}\n\nexport const GET_CAHLLENGE = '@CAHLLENGE/GET_CAHLLENGE'\nexport const SET_CAHLLENGE = '@CAHLLENGE/SET_CAHLLENGE'\nexport const SET_CAHLLENGE_GROUP = '@CAHLLENGE/SET_CAHLLENGE_GROUP'\nexport const SET_CAHLLENGE_SPONSERS = '@CAHLLENGE/SET_CAHLLENGE_SPONSERS'\nexport const SPONSER_CHALLENGE = '@CAHLLENGE/SPONSER_CHALLENGE'\nexport const SET_COFIRM_SPONSOR = '@CAHLLENGE/SET_COFIRM_SPONSOR'\n\nexport const sponserChallenge = (payload: SponserProp) => ({\n  type: SPONSER_CHALLENGE,\n  payload\n})\n\nexport const setChallengeGroup = (payload: SetGroupProp) => ({\n  type: SET_CAHLLENGE_GROUP,\n  payload\n})\n\nexport const getChallenge = (payload: GetChallengeProp) => ({\n  type: GET_CAHLLENGE,\n  payload\n})\n\nexport const setChallenge = (payload: ChallengeType) => ({\n  type: SET_CAHLLENGE,\n  payload\n})\n\nexport const setChallengeSponsers = (payload: SetSponserProp) => ({\n  type: SET_CAHLLENGE_SPONSERS,\n  payload\n})\n\nexport const setConfirmSponsor = (payload: SetConfirmSponsor) => ({\n  type: SET_COFIRM_SPONSOR,\n  payload\n})\n","import React from 'react'\nimport { addLocaleData, IntlProvider } from 'react-intl'\nimport localeEn from 'react-intl/locale-data/en'\nimport localeZh from 'react-intl/locale-data/zh'\n\nimport messageEN_US from './en.json'\nimport messageZH_TW from './zh-TW.json'\nimport messageZH_CN from './zh-CN.json'\n\nimport { RouteComponentProps } from 'react-router-dom'\nimport { parseLangPath } from '@Utils/index'\nimport Cookies from 'js-cookie'\n\naddLocaleData([...localeEn, ...localeZh])\n\ntype Message = {\n  en: string\n  'zh-TW': string\n  'zh-CN': string\n}\n\ntype MessagesProp = { [k in keyof Message]: any }\n\nconst messgaes = {\n  en: messageEN_US,\n  'zh-TW': messageZH_TW,\n  'zh-CN': messageZH_CN\n} as MessagesProp\n\nlet currentLang = 'en'\n\nexport const getLang = () => currentLang\n\nexport default function(WrappedComponent: React.ComponentClass) {\n  return class MutilLang extends React.Component<\n    RouteComponentProps,\n    { lang: string }\n  > {\n    public constructor(props: RouteComponentProps) {\n      super(props)\n      this.state = {\n        lang: parseLangPath(this.props.location.search)\n      }\n    }\n\n    public componentDidMount() {\n      const { history } = this.props\n      history.listen(location => {\n        const urlParams = new URLSearchParams(location.search)\n        const nextLang = urlParams.get('l')\n        if (nextLang && nextLang.length && nextLang !== this.state.lang) {\n          Cookies.set('_coin_lng_', nextLang)\n          this.setState({\n            lang: nextLang\n          })\n        }\n      })\n    }\n\n    public render() {\n      const { lang } = this.state\n      currentLang = lang\n      const locale = lang.indexOf('en') > -1 ? 'en' : 'zh'\n      return (\n        <IntlProvider locale={locale} messages={messgaes[lang]}>\n          <WrappedComponent />\n        </IntlProvider>\n      )\n    }\n  }\n}\n","import { Action } from '@Src/typing/globalTypes'\nimport {\n  SET_CAHLLENGE_GROUP,\n  SET_CAHLLENGE,\n  SET_CAHLLENGE_SPONSERS,\n  SET_COFIRM_SPONSOR,\n  SetGroupProp,\n  SetConfirmSponsor,\n  SetSponserProp\n} from '@Epics/challengeEpic/action'\nimport { ChallengeType, Sponsor } from '@Src/typing/globalTypes'\nimport { Record, RecordOf } from 'immutable'\n\nexport type ChallengeState = {\n  sponsers: Array<Sponsor>\n  isCofirmingSponsor: boolean\n  txhash: string\n  groupName: string\n  groupImage: string\n  minAmount: number\n} & ChallengeType\n\nexport type ChallengeStateType = RecordOf<ChallengeState>\nlet initState\nif (typeof window !== 'undefined' && window.__PRELOADED_STATE__) {\n  initState = window.__PRELOADED_STATE__.challenge\n} else {\n  initState = {\n    round: 0,\n    completeDays: 0,\n    targetDays: 0,\n    totalDays: 0,\n    startTimestamp: 0,\n    sponserSize: 0,\n    amount: 0,\n    totalSponsorAmount: 0,\n    goal: '',\n    minAmount: 0\n  } as ChallengeType\n}\n\nconst stateMaker = Record<ChallengeState>({\n  sponsers: [],\n  isCofirmingSponsor: false,\n  txhash: '',\n  groupName: '',\n  groupImage: '',\n  ...initState\n})\n\nexport const initialState = stateMaker()\n\nconst challengeReducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case SET_CAHLLENGE:\n      return state.merge({\n        ...action.payload\n      })\n\n    case SET_CAHLLENGE_SPONSERS:\n      const payload = action.payload as SetSponserProp\n      return state.set('sponsers', payload.sponsors)\n\n    case SET_COFIRM_SPONSOR:\n      const { isCofirmingSponsor, txhash } = action.payload as SetConfirmSponsor\n      return state.merge({\n        isCofirmingSponsor,\n        txhash\n      })\n    case SET_CAHLLENGE_GROUP:\n      const {\n        groupName,\n        groupImage,\n        minAmount\n      } = action.payload as SetGroupProp\n      return state.merge({\n        groupName,\n        groupImage,\n        minAmount\n      })\n    default:\n      return state\n  }\n}\n\nexport default challengeReducer\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router'\nimport { connect } from 'react-redux'\nimport { Dispatch } from 'redux'\nimport styled from 'styled-components'\nimport { Helmet } from 'react-helmet'\nimport ChallengeCard from './components/ChallengeCard'\nimport ChallengeInfo from './components/ChallengeInfo'\nimport SponsorButton from './components/SponsorButton'\nimport Sponsers from './components/Sponsers'\nimport { ChallengeStateType } from '@Reducers/challengeReducer'\nimport { CommonStateType } from '@Reducers/commonReducer'\nimport HistoryTimeline from './components/HistoryTimeline'\nimport Notifier from './components/Notifier'\nimport { breakPoint, hostUrl } from '@Src/contants/common'\n\nimport Contract from 'web3/eth/contract'\nimport { setPopup, SetPopProps, initContract } from '@Epics/commonEpic/action'\nimport {\n  getChallenge,\n  sponserChallenge,\n  SponserProp\n} from '@Epics/challengeEpic/action'\nimport {\n  ChallengeType,\n  Sponsor,\n  ChainType,\n  RouteParams\n} from '@Src/typing/globalTypes'\nimport { isDexon } from '@Src/utils'\n\nimport { injectIntl, InjectedIntlProps } from 'react-intl'\nimport Transaction from '@Components/Transaction'\nimport { changeRoute } from '@Utils/index'\nimport web3 from 'web3'\n\nimport { getLang } from '@Src/translation'\nimport {\n  sponsorEvents,\n  getPastSponsor,\n  canSponsor\n} from '@Src/contracts/contractService'\n\nimport { APP_COIN } from '@Src/contants/common'\n\nconst ChallengeContainer = styled('div')({\n  display: 'flex',\n  justifyContent: 'center',\n  marginTop: '30px',\n  [`@media (max-width: ${breakPoint})`]: {\n    width: '100%',\n    overflow: 'hidden',\n    marginTop: 0\n  }\n})\n\nconst StyledGridList = styled('div')({\n  width: 800,\n  zIndex: 1,\n  [`@media (max-width: ${breakPoint})`]: {\n    width: '100%'\n  }\n})\n\nconst LoadingBlk = styled('div')({\n  maxWidth: '400px',\n  margin: '0 auto',\n  textAlign: 'center',\n  a: {\n    display: 'inline-block',\n    marginBottom: '10px'\n  }\n})\n\ninterface ChallengeProp\n  extends RouteComponentProps,\n    ChallengeType,\n    InjectedIntlProps {\n  txContract: Contract | null\n  contract: Contract | null\n  account: string | null\n  error: boolean\n  isCofirmingSponsor: boolean\n  txhash: string\n  groupName: string\n  groupImage: string\n  minAmount: number\n  startTimestamp: number\n  fetchChallenge: (data: RouteParams) => void\n  sponserChallenge: (payload: SponserProp) => void\n  setChallengeSponsersAction: (sponsors: Sponsor[]) => void\n  setPopup: (payload: SetPopProps) => void\n  initContract: (chain?: string) => void\n}\n\ninterface ChallengeState {\n  sponsors: Sponsor[]\n  sponsorAmount: number\n  invalidAddress: boolean\n}\n\nconst deeplinking = (data: RouteParams) => {\n  branch.deepview(\n    {\n      channel: 'safari',\n      feature: 'deepview',\n      $uri_redirect_mode: 2,\n      data: {\n        $deeplink_path: `challenge/${data.chain}/${data.groupId}/${\n          data.address\n        }${data.round ? `/${data.round}` : ''}`,\n        user_cookie_id: 'coin-challenge',\n        ...data,\n        blockchain: data.chain\n      }\n    },\n    {\n      open_app: true\n    }\n  )\n}\n\nconst mapStateToProps = (state: Map<string, object>) => {\n  const challengeState = state.get('challenge') as ChallengeStateType\n  const commonState = state.get('common') as CommonStateType\n  return {\n    txContract: commonState.get('txContract'),\n    contract: commonState.get('contract'),\n    account: commonState.get('userAddress'),\n    ...challengeState.toJS()\n  }\n}\n\nconst mapDispathToProps = (dispatch: Dispatch) => ({\n  fetchChallenge: (data: RouteParams) =>\n    dispatch(\n      getChallenge({\n        groupId: data.groupId,\n        challenger: data.address,\n        round: data.round\n      })\n    ),\n  sponserChallenge: (payload: SponserProp) =>\n    dispatch(\n      sponserChallenge({\n        ...payload,\n        dispatch\n      })\n    ),\n  setPopup: (payload: SetPopProps) => dispatch(setPopup(payload)),\n  initContract: (chain?: string) => dispatch(initContract(chain))\n})\nclass Challenge extends React.Component<ChallengeProp, ChallengeState> {\n  public address: string = ''\n  public groupId: string = ''\n  public round: number | undefined = undefined\n  public fetched: boolean = false\n  public sponsorFetched: boolean = false\n  public coin: string = 'ETH'\n  public chain: ChainType = 'ethereum'\n\n  constructor(props: ChallengeProp) {\n    super(props)\n    const params = this.props.match.params as RouteParams\n    this.address = params.address\n    this.groupId = params.groupId\n    this.chain = params.chain\n    this.coin = APP_COIN(this.chain)\n    this.round = params.round ? Number(params.round) : undefined\n    this.state = {\n      sponsors: [],\n      sponsorAmount: 0,\n      invalidAddress: false\n    }\n  }\n\n  private onNewSponsor = (sponsor: Sponsor) => {\n    const sponsors = this.state.sponsors\n    this.setState({\n      sponsors: sponsors.concat([sponsor]),\n      sponsorAmount:\n        this.state.sponsorAmount + Number(web3.utils.fromWei(sponsor.amount))\n    })\n  }\n\n  private async checkAndFetch() {\n    const {\n      contract,\n      fetchChallenge,\n      sponserSize,\n      targetDays,\n      setPopup,\n      round\n    } = this.props\n    const isValid = await web3.utils.isAddress(this.address)\n    if (!isValid && !this.fetched) {\n      setPopup({\n        showPop: true,\n        messageKey: 'invalidAddress'\n      })\n      this.setState({\n        invalidAddress: true\n      })\n      this.fetched = true\n      return\n    }\n\n    if (typeof window !== 'undefined' && isValid) {\n      deeplinking({\n        chain: this.chain,\n        address: this.address,\n        groupId: this.groupId,\n        round: this.round\n      })\n    }\n\n    if (contract) {\n      if (!this.fetched) {\n        fetchChallenge({\n          chain: this.chain,\n          address: this.address,\n          groupId: this.groupId,\n          round: this.round\n        })\n        this.fetched = true\n      } else if (!this.sponsorFetched && targetDays > 0) {\n        this.sponsorFetched = true\n        const sponsorData = await getPastSponsor(\n          contract,\n          round,\n          this.groupId,\n          this.address,\n          sponserSize\n        )\n        sponsorEvents({\n          contract,\n          groupId: this.groupId,\n          challenger: this.address,\n          callback: this.onNewSponsor\n        })\n\n        this.setState({\n          sponsors: sponsorData.data,\n          sponsorAmount: sponsorData.data.reduce((accumulator, sponsor) => {\n            return accumulator + Number(web3.utils.fromWei(sponsor.amount))\n          }, 0)\n        })\n      }\n    }\n  }\n\n  private checkWallet = () => {\n    const { setPopup, txContract, intl } = this.props\n    if (!this.props.txContract) {\n      setPopup({\n        showPop: true,\n        popMessage: intl.formatMessage({\n          id: isDexon(this.chain) ? 'dexonProviderNotFound' : 'providerNotFound'\n        })\n      })\n      return false\n    }\n    return true\n  }\n\n  private onSponsor = async ({\n    amount,\n    comment\n  }: {\n    amount: number\n    comment: string\n  }) => {\n    const { setPopup, minAmount, intl } = this.props\n    if (amount < minAmount) {\n      setPopup({\n        showPop: true,\n        popMessage: intl.formatMessage(\n          { id: 'min.amount.error' },\n          {\n            amount: minAmount + ' ' + this.coin\n          }\n        )\n      })\n    } else {\n      const { txContract, account, sponserChallenge } = this.props\n      if (txContract && account) {\n        sponserChallenge({\n          groupId: this.groupId,\n          who: this.address,\n          amount,\n          comment\n        })\n      }\n    }\n  }\n\n  private canSponsor = async () => {\n    let res = false\n    if (this.props.contract) {\n      res = await canSponsor(this.props.contract, this.groupId, this.address)\n    }\n\n    return res\n  }\n\n  public componentDidUpdate() {\n    this.checkAndFetch()\n  }\n\n  public componentDidMount() {\n    const { history, location, initContract } = this.props\n    changeRoute({ history, location, match: {} })\n    initContract(this.chain)\n    this.checkAndFetch()\n  }\n\n  public render() {\n    const {\n      completeDays,\n      totalDays,\n      targetDays,\n      amount,\n      goal,\n      intl,\n      isCofirmingSponsor,\n      txhash,\n      contract,\n      groupName,\n      groupImage\n    } = this.props\n\n    intl.locale\n\n    const goalText = intl.formatMessage(\n      { id: `group.unit.${this.groupId}`, defaultMessage: ' ' },\n      { goal }\n    )\n\n    const title =\n      intl.formatMessage({\n        id: `group.title.${this.groupId}`,\n        defaultMessage: 'CoinChallenges'\n      }) +\n      ' - ' +\n      goalText\n\n    const shareDesc = intl.formatMessage(\n      {\n        id: 'shareDesc'\n      },\n      { amount: `${amount} ${this.coin}`, totalDays }\n    )\n\n    return (\n      <React.Fragment>\n        <ChallengeContainer>\n          <Helmet>\n            <title>{title}</title>\n            <meta property='og:title' content={title} />\n            <meta property='og:description' content={shareDesc} />\n            <meta\n              property='og:image'\n              content={`${hostUrl()}share/${this.chain}/${this.groupId}/${\n                this.address\n              }?l=${getLang()}`}\n            />\n            <meta property='og:site_name' content='CoinChallengs' />\n            <meta property='twitter:card' content='summary_large_image' />\n            <meta property='twitter:site' content='CoinChallengs' />\n            <meta property='twitter:creator' content='CoinChallengs' />\n            <meta property='twitter:image:alt' content={shareDesc} />\n          </Helmet>\n          <StyledGridList>\n            <ChallengeCard\n              name={groupName}\n              goal={totalDays ? goalText : ''}\n              url={groupImage}\n              invalidAddress={this.state.invalidAddress}\n            />\n            <ChallengeInfo\n              address={this.address}\n              completeDays={completeDays}\n              targetDays={targetDays}\n              totalDays={totalDays}\n              amount={amount}\n              invalidAddress={this.state.invalidAddress}\n              coin={this.coin}\n            />\n            {totalDays && this.canSponsor() ? (\n              <SponsorButton\n                chain={this.chain}\n                onSponsor={this.onSponsor}\n                checkWallet={this.checkWallet}\n                intl={intl}\n              />\n            ) : null}\n            {isCofirmingSponsor ? (\n              <LoadingBlk>\n                <Transaction txHash={txhash} />\n              </LoadingBlk>\n            ) : null}\n            <Sponsers sponsors={this.state.sponsors} coin={this.coin} />\n            <HistoryTimeline\n              contract={contract}\n              groupId={this.groupId}\n              challenger={this.address}\n              coin={this.coin}\n            />\n          </StyledGridList>\n        </ChallengeContainer>\n        <Notifier contract={contract} coin={this.coin} />\n      </React.Fragment>\n    )\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispathToProps\n)(injectIntl(Challenge))\n","import React, { Component } from 'react'\nimport { Route, Switch, Redirect, Link, withRouter } from 'react-router-dom'\nimport styled from 'styled-components'\nimport Home from '@Container/Home'\nimport Landing from '@Components/Landing'\nimport CreateChallengeGroup from '@Container/CreateChallengeGroup'\nimport Challenge from '@Container/Challenge'\n\nimport TranslateHoc from '@Src/translation'\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport { withTheme } from '@material-ui/core/styles'\nimport { APP_FONT_COLOR, APP_THEME } from '@Src/contants/themeColor'\nimport { breakPoint } from '@Src/contants/common'\nimport 'reset-css'\nimport './app.css'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: APP_THEME,\n      light: APP_THEME,\n      dark: APP_THEME\n    }\n  },\n  typography: {\n    useNextVariants: true\n  }\n})\n\nconst Body = styled('div')({\n  fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif',\n  background: APP_FONT_COLOR,\n  minHeight: '100vh'\n})\n\nconst MainContainer = styled('div')({\n  margin: '0 auto 40px',\n  paddingTop: 60,\n  [`@media (max-width: ${breakPoint})`]: {\n    paddingTop: 50\n  }\n})\n\nclass App extends Component {\n  public componentDidMount() {\n    const jssStyles = document.getElementById('jss-ssr')\n    jssStyles && jssStyles.remove()\n  }\n  public render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n        <Body>\n          <MainContainer>\n            <Home />\n            <Switch>\n              <Route path='/' exact component={Landing} />\n              <Route\n                path='/group/:chain/create'\n                exact\n                component={CreateChallengeGroup}\n              />\n              <Route\n                path='/challenge/:chain/:groupId/:address/:round?'\n                component={Challenge}\n              />\n              <Route component={() => <Redirect to='/' />} />\n            </Switch>\n          </MainContainer>\n        </Body>\n      </MuiThemeProvider>\n    )\n  }\n}\n\nexport default withTheme()(withRouter(TranslateHoc(App)))\n","import { Action } from '@Src/typing/globalTypes'\nimport {\n  SET_CONTRACT,\n  SET_POPUP,\n  CHECK_WALLET,\n  SET_CONFIRM,\n  SetPopProps\n} from '@Epics/commonEpic/action'\nimport { GET_CAHLLENGE, SET_CAHLLENGE } from '@Epics/challengeEpic/action'\nimport {\n  CREATE_CHALLENGE_GROUP,\n  SET_CREATE_RESULT\n} from '@Epics/challengeGroupEpic/action'\nimport Contract from 'web3/eth/contract'\nimport { getMetmaskUrl, isDexon } from '@Src/utils'\nimport { Record, RecordOf } from 'immutable'\n\nexport type CommonState = {\n  lang: string\n  userAddress: string | null\n  txContract: Contract | null\n  contract: Contract | null\n  accounts: Array<string>\n  loading: boolean\n  showPop: boolean\n  popMessage: string\n  messageKey: string | null\n  isConfirming: boolean\n  txHash?: string\n  accountBalance: string\n  error: {\n    code: number\n    text: string\n  } | null\n}\n\nexport type CommonStateType = RecordOf<CommonState>\n\nconst stateMaker = Record<CommonState>({\n  lang: 'en',\n  userAddress: null,\n  accounts: [],\n  txContract: null,\n  contract: null,\n  loading: true,\n  showPop: false,\n  popMessage: '',\n  messageKey: null,\n  isConfirming: false,\n  txHash: '',\n  error: null,\n  accountBalance: '0'\n})\n\ninterface SetContractPayload {\n  txContract: Contract | null\n  contract: Contract | null\n  userAddress: string | null\n  accounts: Array<string>\n  loading: boolean\n  accountBalance: string\n  error: {\n    code: number\n    text: string\n  } | null\n}\n\nexport const initialState = stateMaker()\n\nconst commonReducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case SET_CONTRACT:\n      const {\n        txContract,\n        contract,\n        userAddress,\n        accounts = [],\n        accountBalance,\n        error\n      } = action.payload as SetContractPayload\n      return state.merge({\n        txContract,\n        contract,\n        userAddress,\n        accounts,\n        accountBalance,\n        loading: false,\n        error\n      })\n\n    case SET_POPUP:\n      const payload = action.payload as SetPopProps\n      return state.merge({\n        showPop: payload.showPop,\n        popMessage: payload.popMessage,\n        messageKey: payload.messageKey\n      })\n\n    case GET_CAHLLENGE:\n    case CREATE_CHALLENGE_GROUP:\n      return state.set('loading', true)\n    case SET_CAHLLENGE:\n    case SET_CREATE_RESULT:\n      return state.merge({\n        loading: false,\n        isConfirming: false\n      })\n    case CHECK_WALLET:\n      if (state.get('txContract') === null) {\n        const url = isDexon(action.payload && action.payload.chain)\n          ? 'https://dexon.org/faucet'\n          : getMetmaskUrl()\n        if (state.get('accounts').length === 0) {\n          return state.merge({\n            showPop: true,\n            messageKey: 'accountNotFound'\n          })\n        }\n\n        if (url) {\n          window.open(url)\n        } else {\n          state = state.merge({\n            showPop: true,\n            messageKey: 'browserNotSupport'\n          })\n        }\n      }\n\n      return state\n    case SET_CONFIRM:\n      const { isConfirming, txHash } = action.payload as any\n      return state.merge({\n        isConfirming,\n        txHash\n      })\n    default:\n      return state\n  }\n}\n\nexport default commonReducer\n","import { Action } from '@Src/typing/globalTypes'\nimport { SET_CREATE_RESULT } from '@Epics/challengeGroupEpic/action'\nimport { Record, RecordOf } from 'immutable'\n\nexport type ChallengeGroupState = {\n  response: {\n    status?: number\n    gasUsed?: number\n  }\n  error: boolean\n}\n\nexport type ChallengeGroupStateType = RecordOf<ChallengeGroupState>\n\nconst stateMaker = Record<ChallengeGroupState>({\n  response: {},\n  error: false\n})\n\nexport const initialState = stateMaker()\n\nconst challengeGroupReducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case SET_CREATE_RESULT:\n      const { response, error } = action.payload as ChallengeGroupState\n      return state.merge({\n        response,\n        error\n      })\n\n    default:\n      return state\n  }\n}\n\nexport default challengeGroupReducer\n","import { combineReducers } from 'redux-immutable'\nimport { Reducer } from 'redux'\nimport commonReducer from './commonReducer'\nimport challengeGroupReducer from './challengeGroupReducer'\nimport challengeReducer from './challengeReducer'\n\nconst rootReducer: Reducer = combineReducers({\n  common: commonReducer,\n  challengeGroup: challengeGroupReducer,\n  challenge: challengeReducer\n})\n\nexport default rootReducer\n","import { Action } from '@Src/typing/globalTypes'\nimport { CREATE_CHALLENGE_GROUP, setCreateResult } from './action'\nimport { ofType, ActionsObservable, StateObservable } from 'redux-observable'\nimport {\n  switchMap,\n  mergeMap,\n  catchError,\n  filter,\n  take,\n  repeat\n} from 'rxjs/operators'\nimport { from, of } from 'rxjs'\n\nimport { setPopup, setConfirm } from '../commonEpic/action'\n\nfunction parseErrorMsg(err: string) {\n  if (err.indexOf('invalid addres') > -1) {\n    return 'invalidAddress'\n  } else if (err.indexOf('connection not open') > -1) {\n    return 'connectNotOpen'\n  } else if (err.indexOf('User denied') > -1) {\n    return 'userDenied'\n  }\n  return 'createGroupError'\n}\n\nexport const newChallengeGroupEpic = (\n  action$: ActionsObservable<Action>,\n  state$: StateObservable<any>\n) =>\n  action$.pipe(\n    ofType(CREATE_CHALLENGE_GROUP),\n    take(1),\n    filter(() => state$.value.get('common').get('txContract') !== null),\n    switchMap((action: Action) => {\n      const commonReducer = state$.value.get('common')\n      const payload = { ...action.payload } as any\n      const [contract, address] = [\n        commonReducer.get('txContract'),\n        commonReducer.get('userAddress')\n      ]\n\n      const dispatch = payload.dispatch\n      delete payload.dispatch\n\n      payload.minAmount = web3.utils.toWei(payload.minAmount, 'ether')\n      payload.agent =\n        payload.agent === ''\n          ? '0xa99CeB4475670cCDF31a78232bfA585848598cBA'\n          : payload.agent\n\n      return from(\n        contract.methods\n          .createChallengeGroup(...Object.values(payload))\n          .send({ from: address }, (_err: any, hash: string) => {\n            dispatch(\n              setConfirm({\n                isConfirming: true,\n                txHash: hash\n              })\n            )\n          })\n      ).pipe(\n        mergeMap((response: any) => {\n          return of(\n            setCreateResult({\n              response: {\n                status: response.status,\n                gasUsed: response.gasUsed\n              },\n              error: false\n            }),\n            setPopup({\n              showPop: true,\n              messageKey: 'createSuccess'\n            })\n          )\n        }),\n        catchError((err: Error) => {\n          return of(\n            setPopup({\n              showPop: true,\n              messageKey: parseErrorMsg(err.message)\n            }),\n            setCreateResult({\n              response: {},\n              error: true\n            })\n          )\n        })\n      )\n    }),\n    repeat()\n  )\n\nexport default [newChallengeGroupEpic]\n","import {\n  GET_CAHLLENGE,\n  SPONSER_CHALLENGE,\n  SponserProp,\n  setChallengeGroup,\n  setChallenge,\n  setConfirmSponsor\n} from './action'\nimport { Action } from '@Src/typing/globalTypes'\n\nimport { ofType, ActionsObservable, StateObservable } from 'redux-observable'\nimport {\n  map,\n  switchMap,\n  catchError,\n  filter,\n  take,\n  repeat,\n  mergeMap\n} from 'rxjs/operators'\nimport { from, of } from 'rxjs'\nimport { setPopup } from '../commonEpic/action'\nimport { parseChallenge } from '@Utils/contractUtils'\nimport web3 from 'web3'\n\nexport const getChallengeGroupEpic = (\n  action$: ActionsObservable<Action>,\n  state$: StateObservable<any>\n) =>\n  action$.pipe(\n    ofType(GET_CAHLLENGE),\n    switchMap((action: Action) => {\n      const commonReducer = state$.value.get('common')\n      const [contract] = [commonReducer.get('contract')]\n      const { groupId } = action.payload as any\n\n      return from(contract.methods.getChallengeGroup(groupId).call()).pipe(\n        map((response: any) => {\n          return setChallengeGroup({\n            groupName: response._name,\n            groupImage: response._url,\n            minAmount: Number(web3.utils.fromWei(response._minAmount))\n          })\n        }),\n        catchError((err: any) => {\n          return of(\n            setPopup({ showPop: true, messageKey: 'challengeGroup.error' })\n          )\n        })\n      )\n    })\n  )\n\nexport const getChallengeEpic = (\n  action$: ActionsObservable<Action>,\n  state$: StateObservable<any>\n) =>\n  action$.pipe(\n    ofType(GET_CAHLLENGE),\n    switchMap((action: Action) => {\n      const commonReducer = state$.value.get('common')\n      const [contract] = [commonReducer.get('contract')]\n      const { groupId, challenger, round } = action.payload as any\n\n      const method = isNaN(round) ? 'getCurrentChallenge' : 'getChallenge'\n      const params = isNaN(round)\n        ? [groupId, challenger]\n        : [groupId, challenger, round]\n\n      return from(contract.methods[method](...params).call()).pipe(\n        map((response: any) => {\n          const challenge = parseChallenge(response)\n          return challenge.totalDays\n            ? setChallenge(challenge)\n            : setPopup({ showPop: true, messageKey: 'challenge.error' })\n        }),\n        catchError((_err: any) => {\n          return of(\n            setPopup({\n              showPop: true,\n              messageKey: 'challenge.error'\n            })\n          )\n        })\n      )\n    })\n  )\n\nexport const sponsorChallengeEpic = (\n  action$: ActionsObservable<Action>,\n  state$: StateObservable<any>\n) =>\n  action$.pipe(\n    ofType(SPONSER_CHALLENGE),\n    filter(() => state$.value.get('common').get('txContract') !== null),\n    take(1),\n    switchMap((action: Action) => {\n      const commonReducer = state$.value.get('common')\n      const payload = action.payload as SponserProp\n      const { groupId, who, comment, amount, dispatch } = payload\n      const [contract, address] = [\n        commonReducer.get('txContract'),\n        commonReducer.get('userAddress')\n      ]\n\n      return from(\n        contract.methods.sponsorChallenge(groupId, who, comment).send(\n          {\n            from: address,\n            value: web3.utils.toWei(String(amount), 'ether')\n          },\n          (_err: any, hash: string) => {\n            dispatch &&\n              dispatch(\n                setConfirmSponsor({\n                  isCofirmingSponsor: true,\n                  txhash: hash\n                })\n              )\n          }\n        )\n      ).pipe(\n        mergeMap(() =>\n          of(\n            // setPopup({ showPop: true, messageKey: 'donateSuccess' }),\n            setConfirmSponsor({ isCofirmingSponsor: false, txhash: '' })\n          )\n        ),\n        catchError((err: Error) => {\n          return of(\n            // setPopup({ showPop: true, popMessage: err.message }),\n            setConfirmSponsor({ isCofirmingSponsor: false, txhash: '' })\n          )\n        })\n      )\n    }),\n    repeat()\n  )\n\nexport default [getChallengeGroupEpic, getChallengeEpic, sponsorChallengeEpic]\n","import { combineEpics } from 'redux-observable'\nimport commonEpics from './commonEpic'\nimport challengeGroupEpics from './challengeGroupEpic'\nimport challengeEpics from './challengeEpic'\n\nexport default combineEpics(\n  ...commonEpics,\n  ...challengeGroupEpics,\n  ...challengeEpics\n)\n","import { createStore, applyMiddleware } from 'redux'\nimport { createLogger } from 'redux-logger'\nimport rootReducer from '../reducer'\n\nimport { createEpicMiddleware } from 'redux-observable'\nimport rootEpic from '../epics'\n\nconst epicMiddleware = createEpicMiddleware()\nlet middlewares: Array<any> = [epicMiddleware]\n\nif (process.env.NODE_ENV === 'development') {\n  middlewares.push(createLogger({ stateTransformer: state => state.toJS() }))\n}\n\nlet store = createStore(rootReducer, applyMiddleware(...middlewares))\nepicMiddleware.run(rootEpic)\n\nexport default store\n","import * as serviceWorker from './serviceWorker'\n\nimport App from './components/App'\nimport { Provider } from 'react-redux'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport store from '@Src/store'\n\nReactDOM.hydrate(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n)\n\nserviceWorker.unregister()\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n"],"sourceRoot":""}